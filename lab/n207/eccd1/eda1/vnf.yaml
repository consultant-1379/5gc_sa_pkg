vnflcm:
  vnfInstanceName: n280-eccd1-eda1
  vnfProductName: EDA
  vnfSoftwareVersion: 1.49.95-4
  instantiate_file: instantiate.json
  values_file: values.yaml
  clusterName: n280-eccd1
  namespace: eda1

day1:
  k8s-config:
  - name: Create networkpolicy to allow accessing eric-pm-server and eric-data-search-engine
    cmd: |
      apply -f {file1}
      apply -f {file2}
    inline-files:
      file1: network-policy/eric-pm-server-allow.yaml
      file2: network-policy/eric-data-search-engine-allow.yaml
  - name: Create pm server ingress
    cmd: |-
      create ingress eric-pm-server --rule="eric-pm-server-eda.ingress.n280-eccd1.sero.gic.ericsson.se/*=eric-pm-server:9090"
      patch svc eric-pm-server --type=json -p='[{"op": "add", "path": "/spec/ports/1", "value": { "name": "http", "port": 9090, "protocol": "TCP", "targetPort": 9090 }}]'
