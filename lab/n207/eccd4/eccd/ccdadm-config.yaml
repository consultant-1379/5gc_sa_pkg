#
## The CCDADM Configuration YAML file for CCD Cluster deployment in Target Solution Dual Mode 5GC on NFVI
## This file is generated automatically by CEAT tool
##
## CEAT version: 2.0.0-43-047afb8
##
## Note:
## 1. The root volume need to be set when HA-policy is enabled
## 2. Configure user node scripts according to "Deploy the Dual-mode 5G Core in the Ericsson NFVI" CPI document
## 3. The placeholder <description for the parameter> must be replaced with actual value
#

#######################################################################################################
# infra
#######################################################################################################
infra:
  audit:
    log_level: detailed
  ###################################### Target Cloud #################################################
  iaas:
    type: capo
    # configure the delay between two VMs boot
    provisioning_load_spread_delay: 20
    nameservers: ['10.221.16.10', '10.221.16.11']
    ntp_servers: ['10.221.17.6', '10.221.17.46']
    ntp_parameters:
      ntp_minpoll: 3
      ntp_maxpoll: 8
      ntp_version: 4
      ntp_max_offset: "1.2"
    timezone: "CET"
    capo:
      clouds:
        nfvi:
          auth:
            auth_url: https://os-ext-vip.n280vpod1cee.sc.sero.gic.ericsson.se:5000/v3
            username: tsdm5gc
            password: "<TO.BE.FILLED>"
            project_name: tsdm5gc
            project_domain_name: default
            user_domain_name: default
          regions:
          - name: CEERegion
      target_cloud: nfvi
      ## For NFVI7, CEE external cacert can be obtained from file /etc/kolla/certificates/ca/ca_ext.crt
      ## on CEE control host.
      ## Copy the content of the cert file above and paste below to replace <CEE external ca certificate>.
      ## See example configuration below for target_cloud_cacert:
      ## target_cloud_cacert: |
      ##   -----BEGIN CERTIFICATE-----
      ##   <...>
      ##   -----END CERTIFICATE-----
      target_cloud_cacert: |
        -----BEGIN CERTIFICATE-----
        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
        tRq4ImVO9Ddg1VngqJRZvro+zlH3pQ==
        -----END CERTIFICATE-----
        -----BEGIN CERTIFICATE-----
        MIIGhTCCBG2gAwIBAgITJAAAAAgZo51IZLn3FgAAAAAACDANBgkqhkiG9w0BAQsF
        ADAVMRMwEQYDVQQDEwpFR0FEUm9vdENBMB4XDTE5MDUwMjEwNTgzNVoXDTI5MDUw
        MjExMDgzNVowRzESMBAGCgmSJomT8ixkARkWAnNlMRgwFgYKCZImiZPyLGQBGRYI
        ZXJpY3Nzb24xFzAVBgNVBAMTDkVHQURJc3N1aW5nQ0EzMIICIjANBgkqhkiG9w0B
        AQEFAAOCAg8AMIICCgKCAgEAorS/FxfmNVug9Q963xTydgf5JD/XHEQ0HAypY0Mw
        omgZA1Sj1cRFjFzqVbZlQB/d0RUeN8K9+wzpXl2sDiDTYFKc4v3sesmVrT+VHOtf
        2G1Wuw+7OjMURFhoGNz56vDEL10KH86ViPF0Rx3R5/myKYgn/AX6rdVPSsBPyhAe
        YDdsNX3yWrvxr6x3P5Ze8L5cfgDmw1NR3sR3j9mJSKxEpJHo/6z+wh1xOgV7z8Kj
        Tzdl0+103ZvPw8wpnX3JGwOy5O/lIXMFctMEvZoD/eIerPtYEdjk8HrGbWWu66VK
        EoXopl0/3MbPypVdizPcRBq7ldaCDDdLMi2LjFvZbD0UwHHjR/piIE/YsdPLxi1o
        KSO2vPJHSPjpQ0JtP0gcAGR1wSFQCiOzklupMzZ1PMSySbT04woRnUDdTu9BMzIi
        OV5scI+KtJ1JmPqHq3nCS2nkA0grSNbsbB0bz/mrJLX+wH3CXNj0r0gBIDKlaPQb
        8UzrahG3uuIGk4/x8gnU/wh5WYeU89o+3neIgXySK5chnjfevWBwYVF1vddYltpf
        DFZYuFwT+zefeMEiPnseW6JSnRvNljz1XsBlPC++UydVJDGkp+WzeCR46J6iCVeK
        kWKoLv+BtNIbue7SJw0GdGWBJ0DzKdPBmp+Ya5YPDE1g8SqrfdlO61ykJQ1L6EGf
        Sb0CAwEAAaOCAZowggGWMBAGCSsGAQQBgjcVAQQDAgEAMB0GA1UdDgQWBBSBekIQ
        iZ64URB+VptBwt+veMU9JDB5BgNVHSAEcjBwMG4GBFUdIAAwZjBkBggrBgEFBQcC
        AjBYHlYAVABoAGkAcwAgAFAASwBJACAAaQBzACAAaQBuAHQAZQBuAGQAZQBkACAA
        ZgBvAHIAIABpAG4AdABlAHIAbgBhAGwAIAB1AHMAZQAgAG8AbgBsAHkALjAZBgkr
        BgEEAYI3FAIEDB4KAFMAdQBiAEMAQTALBgNVHQ8EBAMCAYYwEgYDVR0TAQH/BAgw
        BgEB/wIBADAfBgNVHSMEGDAWgBRWRUJaFKi5LET+mzXE2+4vOYJN0DA/BgNVHR8E
        ODA2MDSgMqAwhi5odHRwOi8vcGtpLmVyaWNzc29uLnNlL0NlcnREYXRhL0VHQURS
        b290Q0EuY3JsMEoGCCsGAQUFBwEBBD4wPDA6BggrBgEFBQcwAoYuaHR0cDovL3Br
        aS5lcmljc3Nvbi5zZS9DZXJ0RGF0YS9FR0FEUm9vdENBLmNydDANBgkqhkiG9w0B
        AQsFAAOCAgEAk6hklv9NPua9UImj08ILq43l9SgFhg5+y1pRsrUwdTmFANkL0dxi
        TOF93QwFTfwOs1xJr2nzvCsoJ2Rvc04VQlONwiTqn1kMs9vJr2fuQg9hf2O9l0ss
        AftlHq+UxbeIhloGTyJgleJUc2/+pm4UJn8fhZvNZywL8ok4xr5HQRH5xQz21X4i
        VF9RJlvZbsdWLX1iJMs8+oZJQmhRxoHsPylg+24xLuKFuva7BevDub4HpF6utXeE
        qRMN8Yd1HPg55abf8wEqt1VqNp2erZfLETdf59aXdznqeI+ZJl8gQZwBsOlSANct
        n0nj306BlYm6jthXb7T/Bgau48qyrH/vEnwawZ+RH2q1UvGiAMY1/L5PAP4LGubP
        q5VHsibvoQz+jld2bWM4X8y7Z93s33/elZo26pNuYWiE67IVmZntoHJZmq0RfI7V
        cG27eExeNXYc7T0HheK32CguyDsDUURHOMfMzUJBzDnZ8zQWWeOsKCut9xcpxpPW
        7XQB+iH59lFgRF0WW3H4Z3jh7Kvfbr6XsbzEx/onzLaEVrXBf1xKlXgV5rZW69w1
        It5HdRmqOsfW32Bdz9JehI+Z/Iql9UFDsM1lS9dWfMj4Kv3ALpmG5uS3SjU5y1+e
        7EaQhOp85z15UYt9yoS7KqaNZ07bZb2uzBs32lN/Bn1vwPoLA60kI48=
        -----END CERTIFICATE-----
      oam_network:
        name: n280-eccd4-ccd-oam
      internal_network:
        subnet_ipv4:
          cidr: "10.0.1.0/24"
        enable_port_security: false
      election_network:
        subnet_ipv4:
          cidr: "20.0.0.0/24"
      instance_create_timeout: 15
      node_image:
        name: eccd-2.25.1-000039-c4185058-node-image.raw

  ## Custom root password for console access
  ##
  ## This field is a sha256 or sha512 hash of the root password which is applied for all pools.
  ## The salt of the password must only contain characters from the set a-zA-Z0-9. The minimum
  ## required length of the salt is 10 characters. The validity of the salt is verified with
  ## the following regex: ^[a-zA-Z0-9]{10,}$.
  ##
  ## For example, one can use mkpasswd to generate a sha512 hash from a password and salt as
  ## follows:
  ## $ mkpasswd -m sha-512 testPassword -s ccdsalt1234567
  ## $6$ccdsalt1234567$Lssr6CqKyQ4L/kPMROLBVal5vHezxLPLcUzrmAWE9.dm4UyHnHHt38TpyscIAcWQSP37PslE7RAiBDCaUCmwX/
  ## Note: mkpasswd can be installed through 'apt install whois' on a Ubuntu OS.
  console_password_hash: "$6$TWHU0Xf7tbN9czcs$mCOSALLIILhOSWSYF31c85RmBJxRBhlMGbI3g/l/JLH0L0PI37k.nrs4SNGeMgCCDNhkH1LWYHJTetopg5Rro0"
  # deleting the value for session_timeout or setting to zero will default to 900
  session_timeout: 800
  # deleting the value for ssh_inactivity or setting to zero will default to 300
  ssh_inactivity: 200
  ###################################### Ephermeral Node ##############################################
  bootstrap:
    authorized_keys:
    - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDAjXPfGUC8fBvYN0cx6icqvRTaSTIdBZNHxz6ufPALT67g7ARXT5BhyQyT6KTSnsFW+SniFjz2ls3u9bx86OXWWs2R40Jch7rMXbKx4gR3VSaNfkiKxGlTp+aEpwjnPlO3TyNMrfbZUe57UJrLo7oo7ZsnJfKZ1z9N+NVGCks8Jp9oa2OBG9viG5vYB4o/3Tdl5/LiLHYm74AAsuTXnOWVOOowzvT3v2SMkLeyvTd/LBpVEvEXfG1kK+hdxfyRlpqERlOM10CeeYeBd5UrN8+xt5XDoTlnZjp2W3GWJeL3ZjMIU3MxOpmrNksqR6qeZQNF2BGGINs032/QMwYa1M/1 TS Dual-Mode 5GC CCD Deployment
    capo:
      ephemeral_root_volume:
        size: 50
        availability_zone: nova
      ephemeral_flavor: EPH_2vcpu_4096MBmem_0GBdisk
      ephemeral_image:
        name: eccd-2.25.1-000039-c4185058-ephemeral-image.raw
      ephemeral_availability_zone: nova
      ephemeral_metadata:
        ha-policy: ha-offline
  ###################################### Control Plane Node ###########################################
  controlplane:
    control_plane_external_vip: "10.117.54.110"
    control_plane_internal_vip: "10.0.1.2"
    control_plane_registry_vip: "10.0.1.3"
    control_plane_port: 6443
    pool_cfg:
      name: cp
      count: 3
      node_labels:
      - "ecfe-speaker=false"
      capo:
        flavor: MGMT_8vcpu_16384MBmem_150GBdisk
        availability_zones: ['nova']
      authorized_keys:
      - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDAjXPfGUC8fBvYN0cx6icqvRTaSTIdBZNHxz6ufPALT67g7ARXT5BhyQyT6KTSnsFW+SniFjz2ls3u9bx86OXWWs2R40Jch7rMXbKx4gR3VSaNfkiKxGlTp+aEpwjnPlO3TyNMrfbZUe57UJrLo7oo7ZsnJfKZ1z9N+NVGCks8Jp9oa2OBG9viG5vYB4o/3Tdl5/LiLHYm74AAsuTXnOWVOOowzvT3v2SMkLeyvTd/LBpVEvEXfG1kK+hdxfyRlpqERlOM10CeeYeBd5UrN8+xt5XDoTlnZjp2W3GWJeL3ZjMIU3MxOpmrNksqR6qeZQNF2BGGINs032/QMwYa1M/1 TS Dual-Mode 5GC CCD Deployment
      user_node_scripts:
        post_network_init: IyEvdXNyL2Jpbi9lbnYgYmFzaApzZXQgLXVlCgplY2hvIC1lICJBZGRpbmcgVGFyZ2V0IFNvbHV0aW9uIER1YWwtbW9kZSA1R0MgU2VsZi1zaWduZWQgUm9vdENBIgpyb290Y2FfZmlsZT0vZXRjL3BraS90cnVzdC9hbmNob3JzL3RzZG01Z2Mtc2VsZi1zaWduZWQtcm9vdGNhLmNydApjYXQgPDxFT0YgPiAkcm9vdGNhX2ZpbGUKLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUdEVENDQS9XZ0F3SUJBZ0lVWkxyMTF2Mzd0bWxYTUcwZUowRU0raWZ0V1VNd0RRWUpLb1pJaHZjTkFRRUwKQlFBd2dZd3hDekFKQmdOVkJBWVRBbE5GTVFzd0NRWURWUVFJREFKV1J6RVJNQThHQTFVRUJ3d0lSMjkwWldKdgpjbWN4RVRBUEJnTlZCQW9NQ0VWeWFXTnpjMjl1TVEwd0N3WURWUVFMREFSMlpYQmpNVHN3T1FZRFZRUUREREpVCllYSm5aWFFnVTI5c2RYUnBiMjRnUkhWaGJDMU5iMlJsSURWSElFTnZjbVVnVFhWc2RHbFdaWEp6WlZKdmIzUkQKUVRBZ0Z3MHlNekExTURZd09ESXdOVGRhR0E4eU1EVXhNRFV4T1RBNE1qQTFOMW93Z1l3eEN6QUpCZ05WQkFZVApBbE5GTVFzd0NRWURWUVFJREFKV1J6RVJNQThHQTFVRUJ3d0lSMjkwWldKdmNtY3hFVEFQQmdOVkJBb01DRVZ5CmFXTnpjMjl1TVEwd0N3WURWUVFMREFSMlpYQmpNVHN3T1FZRFZRUUREREpVWVhKblpYUWdVMjlzZFhScGIyNGcKUkhWaGJDMU5iMlJsSURWSElFTnZjbVVnVFhWc2RHbFdaWEp6WlZKdmIzUkRRVENDQWlJd0RRWUpLb1pJaHZjTgpBUUVCQlFBRGdnSVBBRENDQWdvQ2dnSUJBTFhHaTIzaVcrUmx6MnUyMFZuOGNkMlg0NmtINldwblhCMEdZekRtCnFhREk5aERqUnNRczNuZ3lJdWpyYjlyOHhuZm1sVk1JV21xbFZMU0N3cWMvUFVlNWFNbmJobFUzRzBIYVIxNmEKZUk4SlJCbjBvajlHMUI5Rjh4cjQwWGFNMVJDeTdORTRrWFJUUjBqRVBjdEowMGovdTlYTXd0dGJmQWJDWkV2dQpnZXdGRGQ0ZlZ4OE11VG1OaU5qRHY2NldlUncvZU1GV1laQlQ5TXI2c1BSR1QyQUdMdE1vbVBGUDNVN1JWWlJMCkdMcUFRajUvUDQrZHNwenVCYW0zdW9CWExZaFVEOHBJTFZndloybUUraWd6YkowNXNPZCtMaXpOMnZhMW5nZ2oKQUl5UFN4R0JwZkZtaVdrSVRUMVYrOHpUdUEvbE43Tlp2U3cwamZkSWpJdkJXMnMwMnhlS2pVc2lJZXM5NWFXNQp5WDFnM09BRTBuZEk0V1pjUTQ5WmhCeTBmN0Q1WlN0OEp5NG51a2pmM041ZTl3VXR6RW9lbGw2NUZTMnpyL3FUCnZJTTNrRnd1RDhKa1hwTzhpRmYvNVJUOWZPM2VtRTNQQytnWnk2WExyamxYWW55NUpJZ0ZCemlsSXlFK2k3N1MKbFArMW8rQjYrY2xDNU55K0puNk44UEw4UHh6Y3d4UE5xcVFNWVJ0b3hIOC9YbG53MWxQSHR2Qk8vbktRYlUvLwpCOTZmUmN5VGoyK1hGUFNwYno5UEtZUWtSZXpUbjdkZ2o3OUM4c1p5TksvWVhmWjNaZUZYMGludGk3L1JsSk44CmlSQnd6WFRxNnRRQUtzK0JjZDNIeHVyQzhyMGFHbXNTMjJxS3g4Q3F1VFB2aWpBYU9wWm84K2pub09YUDQrTnoKc0RRVEFnTUJBQUdqWXpCaE1CMEdBMVVkRGdRV0JCVHVJc09ObDdJbmd3UENseitidGJSMVlTbms2REFmQmdOVgpIU01FR0RBV2dCVHVJc09ObDdJbmd3UENseitidGJSMVlTbms2REFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQTRHCkExVWREd0VCL3dRRUF3SUJoakFOQmdrcWhraUc5dzBCQVFzRkFBT0NBZ0VBdFJnbmRCSDdZeVVab0J4dVdXVksKb3JHUFNYTlpoVU9ReHlmSUtBU1MzdERuQW1EKzRKVlN5Nlc0QXpPdjdjRjhLb2ZjRFpwTmp3MndzdEtoZVBSVAp6dFR0TTBDUEJZNFF2WHlITk5LbFhRREVVcXA5T2VFdnppMDR6RWVmc2lGMk4zZTcxN29TcW16OXpvRUxPNlV3ClYxSUNyaFp3cnYrQWYrQ1Q0WlVoTStKYXFOeGFYa3d1cjhZcGFmaGUrY0RTajFDTE1lTDdnN2xxbDBzQlRFMEUKV2NSOU5ZeDRPbGtRQzloSFRxWVdUb0pYdmpjdVVGYlZFL1F1b0FSRyt0ZWErL0NOTStheUI1VVVsVjQwT3FYSwppUTJsNE0rTkRWREphdXVacEpzbDYzT1VXU2RUdzBibmo0UzRFSGFKbW5IUVVmUUF0Wk8yZG13Q3pyN0cxNXpKCjJMZVJuaFVmQVRSWUpYaU1YRHZlSkF4UVB3aXBIcEMzOXBHSzBiT1FJSGlIZTg0S1AvOHlvMUFMSlpHb3FSYnYKUndSNVZIYkNONFBzV2xUNVRlL1RKWjQxNkdVaW9kK3YrOGE2YVlUYVVlNWR6K3F2L3VmUmlhbnhITlBuYVhUcgovUVoxaTJQem84dWxNaVNHQTJLc3RQSVJYUy9jQ1hhdklQZnpxZGRIZk96ay9jdDUrTWJSS2FvKzJadENlWkhsCmFheWFlRllmczFVckV1NnRuR2gvRVIrNU5WSDBOWnZHQmRubDV4Qm11YXJHR2R6K3pKalhmKzlpRWhxMlA4bWcKU3Jqbk9IM2hZWWNOUmdnOWtIVHc2cWxIQ1REelVzOTV6emJMVDVRRS9odkExRHJzdXpwTmJRS0hLcFVLZzdzMwpZcGM5MDFzOUJXb054cWpPZFdKNW8zYz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQpFT0YKY2htb2QgNDAwICRyb290Y2FfZmlsZQo=
      kubelet_options:
        housekeeping_interval: 10
        allowed_unsafe_sysctls:
        - "kernel.shm*"
        - "kernel.msg*"
      machine_health_check:
        max_unhealthy: 30%
        node_startup_timeout: 15m
        timeout: 5m
        unhealthy_range: "[0-3]"
    host_workloads: false
  ###################################### Worker Nodes #################################################
  worker_pools:
  - pool_cfg:
      name: pool1
      # The initial count of nodes in one pool
      initial_deployment_count: 5
      count: 6
      node_labels:
      - "type=standard"
      - "ecfe-speaker=true"
      disable_sctp_kernel_module: true
      capo:
        flavor: STD2_100vcpu_389120MBmem_200GBdisk
        availability_zones: ['nova']
        subport_sets:
          subportset1:
        traffic_networks:
        # worker node eth1
        - network: n280-eccd4-primary-signaling
          subnets:
          - n280-eccd4-primary-signaling_subnet
          enable_port_security: false
        # worker node eth2
        - network: n280-eccd4-primary-oam
          subnets:
          - n280-eccd4-primary-oam_subnet
          enable_port_security: false
        # worker node eth3
        - network: n280-eccd4-primary-intersite
          subnets:
          - n280-eccd4-primary-intersite_subnet
          enable_port_security: false
        # worker node eth4
        - network: n280-eccd4-macvlan-parent-1
          subnets:
          - n280-eccd4-macvlan-parent-1_subnet
          trunk: true
          nic_subport_sets: ['subportset1']
          enable_port_security: false
        server_group_policies:
        - anti-affinity
      cpu_isolation_config:
        reserved_cpus: ""
        cpu_manager_policy: none
        isolation_interrupts: false
      user_node_scripts:
        post_network_init: IyEvdXNyL2Jpbi9lbnYgYmFzaApzZXQgLXVlCgplY2hvIC1lICJBZGRpbmcgVGFyZ2V0IFNvbHV0aW9uIER1YWwtbW9kZSA1R0MgU2VsZi1zaWduZWQgUm9vdENBIgpyb290Y2FfZmlsZT0vZXRjL3BraS90cnVzdC9hbmNob3JzL3RzZG01Z2Mtc2VsZi1zaWduZWQtcm9vdGNhLmNydApjYXQgPDxFT0YgPiAkcm9vdGNhX2ZpbGUKLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUdEVENDQS9XZ0F3SUJBZ0lVWkxyMTF2Mzd0bWxYTUcwZUowRU0raWZ0V1VNd0RRWUpLb1pJaHZjTkFRRUwKQlFBd2dZd3hDekFKQmdOVkJBWVRBbE5GTVFzd0NRWURWUVFJREFKV1J6RVJNQThHQTFVRUJ3d0lSMjkwWldKdgpjbWN4RVRBUEJnTlZCQW9NQ0VWeWFXTnpjMjl1TVEwd0N3WURWUVFMREFSMlpYQmpNVHN3T1FZRFZRUUREREpVCllYSm5aWFFnVTI5c2RYUnBiMjRnUkhWaGJDMU5iMlJsSURWSElFTnZjbVVnVFhWc2RHbFdaWEp6WlZKdmIzUkQKUVRBZ0Z3MHlNekExTURZd09ESXdOVGRhR0E4eU1EVXhNRFV4T1RBNE1qQTFOMW93Z1l3eEN6QUpCZ05WQkFZVApBbE5GTVFzd0NRWURWUVFJREFKV1J6RVJNQThHQTFVRUJ3d0lSMjkwWldKdmNtY3hFVEFQQmdOVkJBb01DRVZ5CmFXTnpjMjl1TVEwd0N3WURWUVFMREFSMlpYQmpNVHN3T1FZRFZRUUREREpVWVhKblpYUWdVMjlzZFhScGIyNGcKUkhWaGJDMU5iMlJsSURWSElFTnZjbVVnVFhWc2RHbFdaWEp6WlZKdmIzUkRRVENDQWlJd0RRWUpLb1pJaHZjTgpBUUVCQlFBRGdnSVBBRENDQWdvQ2dnSUJBTFhHaTIzaVcrUmx6MnUyMFZuOGNkMlg0NmtINldwblhCMEdZekRtCnFhREk5aERqUnNRczNuZ3lJdWpyYjlyOHhuZm1sVk1JV21xbFZMU0N3cWMvUFVlNWFNbmJobFUzRzBIYVIxNmEKZUk4SlJCbjBvajlHMUI5Rjh4cjQwWGFNMVJDeTdORTRrWFJUUjBqRVBjdEowMGovdTlYTXd0dGJmQWJDWkV2dQpnZXdGRGQ0ZlZ4OE11VG1OaU5qRHY2NldlUncvZU1GV1laQlQ5TXI2c1BSR1QyQUdMdE1vbVBGUDNVN1JWWlJMCkdMcUFRajUvUDQrZHNwenVCYW0zdW9CWExZaFVEOHBJTFZndloybUUraWd6YkowNXNPZCtMaXpOMnZhMW5nZ2oKQUl5UFN4R0JwZkZtaVdrSVRUMVYrOHpUdUEvbE43Tlp2U3cwamZkSWpJdkJXMnMwMnhlS2pVc2lJZXM5NWFXNQp5WDFnM09BRTBuZEk0V1pjUTQ5WmhCeTBmN0Q1WlN0OEp5NG51a2pmM041ZTl3VXR6RW9lbGw2NUZTMnpyL3FUCnZJTTNrRnd1RDhKa1hwTzhpRmYvNVJUOWZPM2VtRTNQQytnWnk2WExyamxYWW55NUpJZ0ZCemlsSXlFK2k3N1MKbFArMW8rQjYrY2xDNU55K0puNk44UEw4UHh6Y3d4UE5xcVFNWVJ0b3hIOC9YbG53MWxQSHR2Qk8vbktRYlUvLwpCOTZmUmN5VGoyK1hGUFNwYno5UEtZUWtSZXpUbjdkZ2o3OUM4c1p5TksvWVhmWjNaZUZYMGludGk3L1JsSk44CmlSQnd6WFRxNnRRQUtzK0JjZDNIeHVyQzhyMGFHbXNTMjJxS3g4Q3F1VFB2aWpBYU9wWm84K2pub09YUDQrTnoKc0RRVEFnTUJBQUdqWXpCaE1CMEdBMVVkRGdRV0JCVHVJc09ObDdJbmd3UENseitidGJSMVlTbms2REFmQmdOVgpIU01FR0RBV2dCVHVJc09ObDdJbmd3UENseitidGJSMVlTbms2REFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQTRHCkExVWREd0VCL3dRRUF3SUJoakFOQmdrcWhraUc5dzBCQVFzRkFBT0NBZ0VBdFJnbmRCSDdZeVVab0J4dVdXVksKb3JHUFNYTlpoVU9ReHlmSUtBU1MzdERuQW1EKzRKVlN5Nlc0QXpPdjdjRjhLb2ZjRFpwTmp3MndzdEtoZVBSVAp6dFR0TTBDUEJZNFF2WHlITk5LbFhRREVVcXA5T2VFdnppMDR6RWVmc2lGMk4zZTcxN29TcW16OXpvRUxPNlV3ClYxSUNyaFp3cnYrQWYrQ1Q0WlVoTStKYXFOeGFYa3d1cjhZcGFmaGUrY0RTajFDTE1lTDdnN2xxbDBzQlRFMEUKV2NSOU5ZeDRPbGtRQzloSFRxWVdUb0pYdmpjdVVGYlZFL1F1b0FSRyt0ZWErL0NOTStheUI1VVVsVjQwT3FYSwppUTJsNE0rTkRWREphdXVacEpzbDYzT1VXU2RUdzBibmo0UzRFSGFKbW5IUVVmUUF0Wk8yZG13Q3pyN0cxNXpKCjJMZVJuaFVmQVRSWUpYaU1YRHZlSkF4UVB3aXBIcEMzOXBHSzBiT1FJSGlIZTg0S1AvOHlvMUFMSlpHb3FSYnYKUndSNVZIYkNONFBzV2xUNVRlL1RKWjQxNkdVaW9kK3YrOGE2YVlUYVVlNWR6K3F2L3VmUmlhbnhITlBuYVhUcgovUVoxaTJQem84dWxNaVNHQTJLc3RQSVJYUy9jQ1hhdklQZnpxZGRIZk96ay9jdDUrTWJSS2FvKzJadENlWkhsCmFheWFlRllmczFVckV1NnRuR2gvRVIrNU5WSDBOWnZHQmRubDV4Qm11YXJHR2R6K3pKalhmKzlpRWhxMlA4bWcKU3Jqbk9IM2hZWWNOUmdnOWtIVHc2cWxIQ1REelVzOTV6emJMVDVRRS9odkExRHJzdXpwTmJRS0hLcFVLZzdzMwpZcGM5MDFzOUJXb054cWpPZFdKNW8zYz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQpFT0YKY2htb2QgNDAwICRyb290Y2FfZmlsZQoKY2F0IDw8IEVPRiA+IGFwcGFybW9yLWRvY2tlci1wY2MKI2luY2x1ZGUgPHR1bmFibGVzL2dsb2JhbD4KCnByb2ZpbGUgZG9ja2VyLXBjYyBmbGFncz0oYXR0YWNoX2Rpc2Nvbm5lY3RlZCxtZWRpYXRlX2RlbGV0ZWQpIHsKICAjaW5jbHVkZSA8YWJzdHJhY3Rpb25zL2Jhc2U+CiAgbmV0d29yaywKICBjYXBhYmlsaXR5LAogIGZpbGUsCiAgbW91bnQsCiAgdW1vdW50LAogIHB0cmFjZSBwZWVyPUB7cHJvZmlsZV9uYW1lfSwKfQpFT0YKCm12IGFwcGFybW9yLWRvY2tlci1wY2MgL2V0Yy9hcHBhcm1vci5kLwpzeXN0ZW1jdGwgcmVzdGFydCBhcHBhcm1vcgoKZnVuY3Rpb24gbG9hZF9rZXJuZWxfbW9kdWxlKCkgewogIGZvciBtIGluICRAOyBkbwogICAgbW9kcHJvYmUgJG0gJiYgZWNobyAkbSA+PiAvZXRjL21vZHVsZXMtbG9hZC5kL2RtNWdjX25mdmlfcHJlbG9hZC5jb25mCiAgZG9uZQp9CmxvYWRfa2VybmVsX21vZHVsZSBpcDZ0YWJsZV9tYW5nbGUgZm91CgojIGFkanVzdCBrZXJuZWwgcGFyYW1ldGVycyBmb3IgRE0gNUdDIENORnMKY2F0IDw8IEVPRiA+PiAvZXRjL3N5c2N0bC5jb25mCiMjIHVwZGF0ZSB0byBrZXJuZWwgcGFyYW1ldGVycyByZXF1aXJlZCBieSBTZWFyY2ggRW5naW5lCnZtLm1heF9tYXBfY291bnQgPSAyNjIxNDQKRU9GCnN5c2N0bCAtcAo=
        post_kubeadm_init: IyEvdXNyL2Jpbi9lbnYgYmFzaApzZXQgLXVlCgojIExhYmVsIHRoZSB3b3JrZXIgbm9kZXMgZm9yIFBDQwojIEFERCBMQUJFTCBTVEFSVAplY2hvIC1lICJBZGRpbmcgUENDIENORiBsYWJlbHMgLi4uLiIKIyBzZXQgd29ya2VyIG5vZGVzIGNvdW50IG9mIFBDLU1NIGNvbnRyb2xsZXIgb3IgUEMtU00gY29udHJvbGxlciB0byAzIHdoZW4gaXQgc3VwcG9ydHMgSEEKZXhwb3J0IE1NX0NPTlRST0xMRVJTPTIKZXhwb3J0IE1NX0NUUkxfTEFCRUw9InBjYy1tbS1wb2Q9Y29udHJvbGxlciIKZXhwb3J0IE1NX05PTl9DVFJMX0xBQkVMPSJwY2MtbW0tcG9kPW5vbi1jb250cm9sbGVyIgpleHBvcnQgU01fQ09OVFJPTExFUlM9MgpleHBvcnQgU01fQ1RSTF9MQUJFTD0icGNjLXNtLXBvZD1jb250cm9sbGVyIgpleHBvcnQgU01fTk9OX0NUUkxfTEFCRUw9InBjYy1zbS1wb2Q9bm9uLWNvbnRyb2xsZXIiCgpnZXRfbGFiZWxfY291bnQoKSB7CiAgTEFCRUw9JDEKICBDT1VOVD0kKC91c3IvbG9jYWwvYmluL2t1YmVjdGwgLS1rdWJlY29uZmlnIC9ldGMva3ViZXJuZXRlcy9rdWJlbGV0LmNvbmYgZ2V0IG5vZGUgLWwgJHtMQUJFTH0gfCBlZ3JlcCAtdiAiXk5BTUUiIHwgd2MgLWwpCiAgZWNobyAkQ09VTlQKfQoKIyMjIE1BSU4KTk9ERV9OQU1FPSQoaG9zdG5hbWUgLXMpCmlmIFsgJChnZXRfbGFiZWxfY291bnQgJE1NX0NUUkxfTEFCRUwpIC1sdCAkTU1fQ09OVFJPTExFUlMgXQp0aGVuCiAgICAvdXNyL2xvY2FsL2Jpbi9rdWJlY3RsIC0ta3ViZWNvbmZpZyAvZXRjL2t1YmVybmV0ZXMva3ViZWxldC5jb25mIGxhYmVsIG5vZGUgJE5PREVfTkFNRSAkTU1fQ1RSTF9MQUJFTAogICAgL3Vzci9sb2NhbC9iaW4va3ViZWN0bCAtLWt1YmVjb25maWcgL2V0Yy9rdWJlcm5ldGVzL2t1YmVsZXQuY29uZiBsYWJlbCBub2RlICROT0RFX05BTUUgJFNNX05PTl9DVFJMX0xBQkVMCmVsaWYgWyAkKGdldF9sYWJlbF9jb3VudCAkU01fQ1RSTF9MQUJFTCkgLWx0ICRTTV9DT05UUk9MTEVSUyBdCnRoZW4KICAgIC91c3IvbG9jYWwvYmluL2t1YmVjdGwgLS1rdWJlY29uZmlnIC9ldGMva3ViZXJuZXRlcy9rdWJlbGV0LmNvbmYgbGFiZWwgbm9kZSAkTk9ERV9OQU1FICRTTV9DVFJMX0xBQkVMCiAgICAvdXNyL2xvY2FsL2Jpbi9rdWJlY3RsIC0ta3ViZWNvbmZpZyAvZXRjL2t1YmVybmV0ZXMva3ViZWxldC5jb25mIGxhYmVsIG5vZGUgJE5PREVfTkFNRSAkTU1fTk9OX0NUUkxfTEFCRUwKZWxzZQogICAgL3Vzci9sb2NhbC9iaW4va3ViZWN0bCAtLWt1YmVjb25maWcgL2V0Yy9rdWJlcm5ldGVzL2t1YmVsZXQuY29uZiBsYWJlbCBub2RlICROT0RFX05BTUUgJE1NX05PTl9DVFJMX0xBQkVMCiAgICAvdXNyL2xvY2FsL2Jpbi9rdWJlY3RsIC0ta3ViZWNvbmZpZyAvZXRjL2t1YmVybmV0ZXMva3ViZWxldC5jb25mIGxhYmVsIG5vZGUgJE5PREVfTkFNRSAkU01fTk9OX0NUUkxfTEFCRUwKZmkKZWNobyAtZSAiRU5EIFBDQyBDTkYgbGFiZWxzIgojIEFERCBMQUJFTCBFTkQK
      machine_health_check:
        max_unhealthy: 30%
        node_startup_timeout: 10m
        timeout: 5m
        unhealthy_range: "[0-3]"
  - pool_cfg:
      name: pool3
      # The initial count of nodes in one pool
      initial_deployment_count: 5
      count: 4
      node_labels:
      - "type=high-throughput"
      - "ecfe-speaker=false"
      node_taints:
      - key: "high-throughput=true"
        effect: NoSchedule
      capo:
        flavor: HT_52vcpu_81920MBmem_50GBdisk
        availability_zones: ['nova']
        traffic_networks:
        # worker node eth1
        - network: n280-eccd4-primary-oam
          subnets:
          - n280-eccd4-primary-oam_subnet
          enable_port_security: false
        # worker node eth2
        - network: sriov-flat-left
          subnets:
          - sriov-flat-left_subnet
          vnic_type: direct
          binding_profile_trusted: true
          enable_port_security: false
        # worker node eth3
        - network: sriov-flat-right
          subnets:
          - sriov-flat-right_subnet
          vnic_type: direct
          binding_profile_trusted: true
          enable_port_security: false
        # worker node eth4
        - network: sriov-flat-left
          subnets:
          - sriov-flat-left_subnet
          vnic_type: direct
          binding_profile_trusted: true
          enable_port_security: false
        # worker node eth5
        - network: sriov-flat-right
          subnets:
          - sriov-flat-right_subnet
          vnic_type: direct
          binding_profile_trusted: true
          enable_port_security: false
        # worker node eth6
        - network: sriov-flat-left
          subnets:
          - sriov-flat-left_subnet
          vnic_type: direct
          binding_profile_trusted: true
          enable_port_security: false
        # worker node eth7
        - network: sriov-flat-right
          subnets:
          - sriov-flat-right_subnet
          vnic_type: direct
          binding_profile_trusted: true
          enable_port_security: false
        # worker node eth8
        - network: sriov-flat-left
          subnets:
          - sriov-flat-left_subnet
          vnic_type: direct
          binding_profile_trusted: true
          enable_port_security: false
        # worker node eth9
        - network: sriov-flat-right
          subnets:
          - sriov-flat-right_subnet
          vnic_type: direct
          binding_profile_trusted: true
          enable_port_security: false
        server_group_policies:
        - soft-anti-affinity
      hugepage_config:
        type: 1GB
        pagecount_1gb: 4
      cpu_isolation_config:
        topology_manager_policy: single-numa-node
        reserved_cpus: "0,1"
        cpu_manager_policy: static
        isolation_interrupts: true
      user_node_scripts:
        post_network_init: IyEvdXNyL2Jpbi9lbnYgYmFzaApzZXQgLXVlCgplY2hvIC1lICJBZGRpbmcgVGFyZ2V0IFNvbHV0aW9uIER1YWwtbW9kZSA1R0MgU2VsZi1zaWduZWQgUm9vdENBIgpyb290Y2FfZmlsZT0vZXRjL3BraS90cnVzdC9hbmNob3JzL3RzZG01Z2Mtc2VsZi1zaWduZWQtcm9vdGNhLmNydApjYXQgPDxFT0YgPiAkcm9vdGNhX2ZpbGUKLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUdEVENDQS9XZ0F3SUJBZ0lVWkxyMTF2Mzd0bWxYTUcwZUowRU0raWZ0V1VNd0RRWUpLb1pJaHZjTkFRRUwKQlFBd2dZd3hDekFKQmdOVkJBWVRBbE5GTVFzd0NRWURWUVFJREFKV1J6RVJNQThHQTFVRUJ3d0lSMjkwWldKdgpjbWN4RVRBUEJnTlZCQW9NQ0VWeWFXTnpjMjl1TVEwd0N3WURWUVFMREFSMlpYQmpNVHN3T1FZRFZRUUREREpVCllYSm5aWFFnVTI5c2RYUnBiMjRnUkhWaGJDMU5iMlJsSURWSElFTnZjbVVnVFhWc2RHbFdaWEp6WlZKdmIzUkQKUVRBZ0Z3MHlNekExTURZd09ESXdOVGRhR0E4eU1EVXhNRFV4T1RBNE1qQTFOMW93Z1l3eEN6QUpCZ05WQkFZVApBbE5GTVFzd0NRWURWUVFJREFKV1J6RVJNQThHQTFVRUJ3d0lSMjkwWldKdmNtY3hFVEFQQmdOVkJBb01DRVZ5CmFXTnpjMjl1TVEwd0N3WURWUVFMREFSMlpYQmpNVHN3T1FZRFZRUUREREpVWVhKblpYUWdVMjlzZFhScGIyNGcKUkhWaGJDMU5iMlJsSURWSElFTnZjbVVnVFhWc2RHbFdaWEp6WlZKdmIzUkRRVENDQWlJd0RRWUpLb1pJaHZjTgpBUUVCQlFBRGdnSVBBRENDQWdvQ2dnSUJBTFhHaTIzaVcrUmx6MnUyMFZuOGNkMlg0NmtINldwblhCMEdZekRtCnFhREk5aERqUnNRczNuZ3lJdWpyYjlyOHhuZm1sVk1JV21xbFZMU0N3cWMvUFVlNWFNbmJobFUzRzBIYVIxNmEKZUk4SlJCbjBvajlHMUI5Rjh4cjQwWGFNMVJDeTdORTRrWFJUUjBqRVBjdEowMGovdTlYTXd0dGJmQWJDWkV2dQpnZXdGRGQ0ZlZ4OE11VG1OaU5qRHY2NldlUncvZU1GV1laQlQ5TXI2c1BSR1QyQUdMdE1vbVBGUDNVN1JWWlJMCkdMcUFRajUvUDQrZHNwenVCYW0zdW9CWExZaFVEOHBJTFZndloybUUraWd6YkowNXNPZCtMaXpOMnZhMW5nZ2oKQUl5UFN4R0JwZkZtaVdrSVRUMVYrOHpUdUEvbE43Tlp2U3cwamZkSWpJdkJXMnMwMnhlS2pVc2lJZXM5NWFXNQp5WDFnM09BRTBuZEk0V1pjUTQ5WmhCeTBmN0Q1WlN0OEp5NG51a2pmM041ZTl3VXR6RW9lbGw2NUZTMnpyL3FUCnZJTTNrRnd1RDhKa1hwTzhpRmYvNVJUOWZPM2VtRTNQQytnWnk2WExyamxYWW55NUpJZ0ZCemlsSXlFK2k3N1MKbFArMW8rQjYrY2xDNU55K0puNk44UEw4UHh6Y3d4UE5xcVFNWVJ0b3hIOC9YbG53MWxQSHR2Qk8vbktRYlUvLwpCOTZmUmN5VGoyK1hGUFNwYno5UEtZUWtSZXpUbjdkZ2o3OUM4c1p5TksvWVhmWjNaZUZYMGludGk3L1JsSk44CmlSQnd6WFRxNnRRQUtzK0JjZDNIeHVyQzhyMGFHbXNTMjJxS3g4Q3F1VFB2aWpBYU9wWm84K2pub09YUDQrTnoKc0RRVEFnTUJBQUdqWXpCaE1CMEdBMVVkRGdRV0JCVHVJc09ObDdJbmd3UENseitidGJSMVlTbms2REFmQmdOVgpIU01FR0RBV2dCVHVJc09ObDdJbmd3UENseitidGJSMVlTbms2REFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQTRHCkExVWREd0VCL3dRRUF3SUJoakFOQmdrcWhraUc5dzBCQVFzRkFBT0NBZ0VBdFJnbmRCSDdZeVVab0J4dVdXVksKb3JHUFNYTlpoVU9ReHlmSUtBU1MzdERuQW1EKzRKVlN5Nlc0QXpPdjdjRjhLb2ZjRFpwTmp3MndzdEtoZVBSVAp6dFR0TTBDUEJZNFF2WHlITk5LbFhRREVVcXA5T2VFdnppMDR6RWVmc2lGMk4zZTcxN29TcW16OXpvRUxPNlV3ClYxSUNyaFp3cnYrQWYrQ1Q0WlVoTStKYXFOeGFYa3d1cjhZcGFmaGUrY0RTajFDTE1lTDdnN2xxbDBzQlRFMEUKV2NSOU5ZeDRPbGtRQzloSFRxWVdUb0pYdmpjdVVGYlZFL1F1b0FSRyt0ZWErL0NOTStheUI1VVVsVjQwT3FYSwppUTJsNE0rTkRWREphdXVacEpzbDYzT1VXU2RUdzBibmo0UzRFSGFKbW5IUVVmUUF0Wk8yZG13Q3pyN0cxNXpKCjJMZVJuaFVmQVRSWUpYaU1YRHZlSkF4UVB3aXBIcEMzOXBHSzBiT1FJSGlIZTg0S1AvOHlvMUFMSlpHb3FSYnYKUndSNVZIYkNONFBzV2xUNVRlL1RKWjQxNkdVaW9kK3YrOGE2YVlUYVVlNWR6K3F2L3VmUmlhbnhITlBuYVhUcgovUVoxaTJQem84dWxNaVNHQTJLc3RQSVJYUy9jQ1hhdklQZnpxZGRIZk96ay9jdDUrTWJSS2FvKzJadENlWkhsCmFheWFlRllmczFVckV1NnRuR2gvRVIrNU5WSDBOWnZHQmRubDV4Qm11YXJHR2R6K3pKalhmKzlpRWhxMlA4bWcKU3Jqbk9IM2hZWWNOUmdnOWtIVHc2cWxIQ1REelVzOTV6emJMVDVRRS9odkExRHJzdXpwTmJRS0hLcFVLZzdzMwpZcGM5MDFzOUJXb054cWpPZFdKNW8zYz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQpFT0YKY2htb2QgNDAwICRyb290Y2FfZmlsZQo=
        post_kubeadm_init: IyEvdXNyL2Jpbi9lbnYgYmFzaApzZXQgLXVlCgojIyMgUENHIDEuMTkgRVAzIHdvcmthcm91bmQgZm9yIHBlcmZvcm1hbmNlIGFmZmVjdGVkIGJ5IExpbnV4IGtlcm5lbCBmZWF0dXJlIFRIUCAoVHJhbnNwYXJlbnQgSHVnZSBQYWdlcykKIyMjIFRoaXMgV0EgaXMgb25seSBhcHBsaWVkIGZvciBDQ0QgMi4yNCwgMi4yNSBhbmQgMi4yNgojIHVwZGF0ZSBwcm9hY3RpdmVuZXNzCmNhdCA8PCBFT0YgPj4gL2V0Yy9zeXNjdGwuY29uZgp2bS5jb21wYWN0aW9uX3Byb2FjdGl2ZW5lc3MgPSAwCkVPRgoKIyB1cGRhdGUgcHRlcwpjYXQgPDwgRU9GID4+IC9yb290L3B0ZXNfdXBkYXRlLnNoCmVjaG8gMTI3ID4gL3N5cy9rZXJuZWwvbW0vdHJhbnNwYXJlbnRfaHVnZXBhZ2Uva2h1Z2VwYWdlZC9tYXhfcHRlc19ub25lCkVPRgpjaG1vZCAreCAvcm9vdC9wdGVzX3VwZGF0ZS5zaAoKIyBjcmVhdGUgYXV0byBzdGFydCBzZXJ2aWNlIGZvciBwdGVzIHVwZGF0aW5nCmNhdCA8PCBFT0YgPj4gL2V0Yy9zeXN0ZW1kL3N5c3RlbS9wdGVzX3VwZGF0ZS5zZXJ2aWNlCltVbml0XQpEZXNjcmlwdGlvbj1VcGRhdGUgbWF4X3B0ZXNfbm9uZQpCZWZvcmU9Y29udGFpbmVyZC5zZXJ2aWNlCltTZXJ2aWNlXQpUeXBlPW9uZXNob3QKRXhlY1N0YXJ0PS9iaW4vYmFzaCAtYyAiL3Jvb3QvcHRlc191cGRhdGUuc2giCltJbnN0YWxsXQpXYW50ZWRCeT1tdWx0aS11c2VyLnRhcmdldApFT0YKc3lzdGVtY3RsIGVuYWJsZSBwdGVzX3VwZGF0ZS5zZXJ2aWNlCnN5c3RlbWN0bCBzdGFydCBwdGVzX3VwZGF0ZS5zZXJ2aWNlCg==
      machine_health_check:
        max_unhealthy: 30%
        node_startup_timeout: 10m
        timeout: 5m
        unhealthy_range: "[0-3]"

#######################################################################################################
# kubernetes
#######################################################################################################
kubernetes:
  ip_version: 4
  ingress_cluster_ip: 10.96.255.200
  apiserver_extra_sans:
  - kubeapi.ingress.n280-eccd4.sero.gic.ericsson.se
  pod_cidr_blocks:
  - 192.168.0.0/16
  ## Generate Self-Signed Certificate for Kubernetes Cluster
  ## Refer to the script scripts/common/generate-certs.sh in CCD VMD image to generate self-signed certificate for
  ## kubernetes cluster. The root CA certificate is generated under scripts/common/credentials directory.
  ##
  ## See example configuration below for the two parameters ca_cert and ca_key:
  ## ca_cert: |
  ##   -----BEGIN CERTIFICATE-----
  ##   <...>
  ##   -----END CERTIFICATE-----
  ##
  ## ca_key: |
  ##   -----BEGIN RSA PRIVATE KEY-----
  ##   <...>
  ##   -----END RSA PRIVATE KEY-----
  ca_cert: |
    -----BEGIN CERTIFICATE-----
    MIIDEzCCAfugAwIBAgIUEba5v1FJs+o8spoMIVAjc7j9NXowDQYJKoZIhvcNAQEL
    BQAwGDEWMBQGA1UEAwwNS3ViZXJuZXRlcy1jYTAgFw0yMzA3MDYwOTA1NDBaGA8y
    MDUwMTEyMTA5MDU0MFowGDEWMBQGA1UEAwwNS3ViZXJuZXRlcy1jYTCCASIwDQYJ
    KoZIhvcNAQEBBQADggEPADCCAQoCggEBALdyL4qaNww0KK96Ujt+1cdUbY5iZ4rt
    52GoTMnmiplyF4l3xjR+//eM/122Gek+pmEKT6hA/VkQL6ejGVMIVj3itCwQn197
    0/56jFXipuBCveq/xfu/xSX/S2PuXMnKjX6tdRL6gqyVjtRp/1Xm+SGwRaa7SXIG
    owRJfsZHv2DlkpefY+kMY8EHGgYIQfpoPxgGbP+y5SlHfVSCh8olKx0vtslTHX6K
    qbvJPGkLnOgj7Tt7UhY92/PUZNgMnQkNHmklGn6ggOs80czDpSg3OKdWlZjdVP54
    5ThoCcbyJHI9M+QMLOISz715yDfPob8mWCV62t/vGPN9xo+8QoLzr3UCAwEAAaNT
    MFEwHQYDVR0OBBYEFLNWQxPy6K1caQmkDbSAlG3kJmQsMB8GA1UdIwQYMBaAFLNW
    QxPy6K1caQmkDbSAlG3kJmQsMA8GA1UdEwEB/wQFMAMBAf8wDQYJKoZIhvcNAQEL
    BQADggEBAAxl51rkeq0v4p2vDMC05W2iTQ8Vh8b7iULvkTS2KCqy6ag1L1fo8/dB
    s9Mf89nk13saah2YxYclsaAAukLWTTLdH7XdGIUDZZRgJiTDKXOxxb9HI2Ik/2/y
    cDkaAqP9ywGRPmYW8bud6prDp1pYFw/qMbHdahqw7y+TEJxxoZRK+1jNyl4RcXER
    OAUm0ECCyvVLijx4EouvcylbORZ9d/mRcivC08KrDDtTr/gtYu1S4TxHZQSIx3WT
    QqmIj+mo9BK2r4NTa1Qkn8IxIeon1pVfRQXB1f2GB8TlsmfsHFQUzZYDV1SjQl9M
    nfkRCbDLmLil6CXXz5euWJ6U0tBvIYA=
    -----END CERTIFICATE-----
  ca_key: |
    -----BEGIN RSA PRIVATE KEY-----
    MIIEpAIBAAKCAQEAt3Ivipo3DDQor3pSO37Vx1RtjmJniu3nYahMyeaKmXIXiXfG
    NH7/94z/XbYZ6T6mYQpPqED9WRAvp6MZUwhWPeK0LBCfX3vT/nqMVeKm4EK96r/F
    +7/FJf9LY+5cycqNfq11EvqCrJWO1Gn/Veb5IbBFprtJcgajBEl+xke/YOWSl59j
    6QxjwQcaBghB+mg/GAZs/7LlKUd9VIKHyiUrHS+2yVMdfoqpu8k8aQuc6CPtO3tS
    Fj3b89Rk2AydCQ0eaSUafqCA6zzRzMOlKDc4p1aVmN1U/njlOGgJxvIkcj0z5Aws
    4hLPvXnIN8+hvyZYJXra3+8Y833Gj7xCgvOvdQIDAQABAoIBAEYyRYruFB5xXxg2
    4HyvvjI2Vm3jred1vdKayjeAJo0tIWCTGp8/8cbSh21en2+nb5c2kOC7bbbFANdP
    DAO/7vBjbbpm6fVptudsEYNT5bNvFqlblPEOouw1Uq38qjj1b0uIKIKIpbRQzoTt
    wq0mYzLG9wAkLqiZbYvYa9CH5+21hXlBRtMrGF9EWQPjzxnlt2ASh2iCNhSBZZzN
    ew97gxzW1oelCgEoaooDnrNrpFOrQkRU6kkzh+Fg6IfMp6DswLL6G8cpG5iN9l0L
    Udn5X4KY+TORR5IlEHWQiYsxIi8n99wBXvV8h2vFCzGkd7NxJM8sErG2B7AH87HC
    yCqc2kkCgYEA4PpGwuPQctmk7GwUCw32dBV170akUiFg7wj90rkCXvbJnA7kh/yH
    H0iQFsE3iqCzb8Da2RAMXmAW55R247OtfyHX8Q/TD143HD0V/LgTZ56N7lrDEbcM
    ylyFxcGQ+OsbFHZsyReLg5ZNLfmYJAshqkpf2ztIaVxTNZ5f5Wg+2XsCgYEA0L3X
    X2CjhIKPeqExfoGTxe2zLwch+/adA97UzUVVpf0D+D19FUqev6aMVhKKeSS3LArl
    k1wrEZs+zp2hClmDnrWp58gNtNN2im6Gh/u77FoD7IJzko+1vYeTJCdoGPdr4GII
    tSlohVYGX5R6pZ40fdVhQKFlxKjUfm2cCvnI788CgYEA2RJjKDQrskUxjjSR+kCU
    pVj3m9FrRxuRrdHdJm8ATKSNzpfIBTWxIowfCvWPI6D+wTsxbfLAHGdWckeblwSM
    yHfdJWkBWnircAG4r0jk4Dvp8it8wCEApFg1cqPbv3EJherl9/lR0bs56LxFAbID
    3403hA5lRdOhLcEMAgtdaPUCgYA39XykTALqBhoytL3Q/SnBWNy9UbsxkcY8AGOp
    99ljGzYSOWGr8IooNJzQgj3vBgG4497xpzbAjI7E0wsV/DNFu8uloELUZBAWQlT8
    ZWbWkLcWk04qTy5YddzjR1EnyER6La3J6yTjAdHJk8NhXM0Tor1klx/yHZSBpB69
    7oKIjwKBgQDbWB3MFJzi1rEDZEZWCmFElSW2AoQ3vZeb/SytOpV7lo0zxrPQOrim
    sHub1UeYBjO7l76Swdlla+n/aHFqPnNPCO9Fr43kewr24tEVB1f1ZDHLeRUL0a2B
    d0tOS86wssRH1l+p6YY7ATAZwVyKfR553e4yk70AFpJ+QL6aBERPBA==
    -----END RSA PRIVATE KEY-----
  # Some NFs include a requirement on CoreDNS cache TTL
  coredns_cfg:
      kube_dns_success_ttl: 5
      kube_dns_denial_ttl: 5
  nodelocalDNS_config_map_fwdzones:
  - domain: 3gppnetwork.org
    dns_server: 172.30.36.50
  featuregates:
    bound_service_account_token_volume: false
  etcd_config:
    election_timeout: 3000
    heartbeat_interval: 300
    snapshot_count: 10000
    enable_pprof: true

#######################################################################################################
# license
#######################################################################################################
license:
  nels_host: nelsaas-vnf1-thrift.sero.gic.ericsson.se
  licensing_domains:
  - customer_id: "946060"
    product_type: ECCD
    swlt_id: STA-CCD-1

#######################################################################################################
# Addons
#######################################################################################################
addons:
- name: calico
  spec:
    mtu: 2090
    interface_name: _calico_interface
    ipv4_pool_ipip_mode: Never
- name: cr-registry
  spec:
    storage_class: csi-cinder-sc-delete
    storage_size: 50Gi
    user_id: admin
    ## container registry b64-encoded password
    ##
    ## Note: no newline character allowed at the end of the password.
    ## for example: printf "<password string>" | base64
    password: YzBudGFpbmVyUmVnIXN0cnk=
    hostname: container-registry.ingress.n280-eccd4.sero.gic.ericsson.se
    replicas_count: 1
- name: ingress
  spec:
    ingress_service:
      allocate_node_port: true
      annotations:
        metallb.universe.tf/address-pool: ingress
      type: LoadBalancer
      loadbalancer_ip: 10.143.139.68
- name: metrics-server
  spec: { }
- name: multus
  spec: { }
- name: sriov-network-device-plugin
  spec:
    pool:
      sriov-dpdk-100g:
        node_selectors:
          "node-pool": "pool3"
        sriov_network_device_plugin_configmap_name: sriov-dpdk-100g-dp-configmap
        sriov_network_device_plugin_configmap_data: |-
          {
            "resourceList":
            [
              {
                "resourceName": "dp_sriov_mlx5_left",
                "selectors": {
                    "pciAddresses": ["0000:00:06.0","0000:00:08.0","0000:00:0a.0","0000:00:0c.0"],
                    "vendors": ["15b3"],
                    "drivers": ["mlx5_core"],
                    "isRdma": true
                }
              },
              {
                "resourceName": "dp_sriov_mlx5_right",
                "selectors": {
                    "pciAddresses": ["0000:00:07.0", "0000:00:09.0", "0000:00:0b.0", "0000:00:0d.0"],
                    "vendors": ["15b3"],
                    "drivers": ["mlx5_core"],
                    "isRdma": true
                }
              }
            ]
          }
- name: ecfe
  spec:
    node_selectors:
      speaker:
        ecfe-speaker: true
    speakers_allowed_on_control_plane: false
    allocate_speakers: true
    config: |
      bgp-bfd-peers:
      - peer-address: 172.21.163.2
        peer-asn: 4251100002
        my-asn: 4221111002
        hold-time: 180s
        min-rx: 100ms
        min-tx: 100ms
        multiplier: 9
        my-address-pools:
        - pcc1-amf-sbi
        - pcc1-smf-nsmf
        - pcc1-smf-notification
        - ccdm1-5g-traffic
        - cces1-5g-sbi-traffic
        - cces1-5g-nbi-trust-traffic
        - ccpc1-5g-traffic
        - ccpc1-4g-traffic
        - ccrc1-nrf-sig
        - ccrc1-nssf-sig
        - ccsm1-ausf-5g-sig
        - ccsm1-udm-5g-sig
        - ccsm1-dia-sig
        - ccsm1-eir-5g-sig
        - ccsm1-hss-epc-http-sig
        - sc1-bsf-dia-sig
        - sc1-bsf-sig
        - sc1-scp-sig
      - peer-address: 172.21.163.3
        peer-asn: 4251100002
        my-asn: 4221111002
        hold-time: 180s
        min-rx: 100ms
        min-tx: 100ms
        multiplier: 9
        my-address-pools:
        - pcc1-amf-sbi
        - pcc1-smf-nsmf
        - pcc1-smf-notification
        - ccdm1-5g-traffic
        - cces1-5g-sbi-traffic
        - cces1-5g-nbi-trust-traffic
        - ccpc1-5g-traffic
        - ccpc1-4g-traffic
        - ccrc1-nrf-sig
        - ccrc1-nssf-sig
        - ccsm1-ausf-5g-sig
        - ccsm1-udm-5g-sig
        - ccsm1-dia-sig
        - ccsm1-eir-5g-sig
        - ccsm1-hss-epc-http-sig
        - sc1-bsf-dia-sig
        - sc1-bsf-sig
        - sc1-scp-sig
      - peer-address: 172.21.195.2
        peer-asn: 4251100010
        my-asn: 4221111010
        hold-time: 180s
        min-rx: 100ms
        min-tx: 100ms
        multiplier: 9
        my-address-pools:
        - ccdm1-intersite
        - ccdm1-4g-traffic
      - peer-address: 172.21.195.3
        peer-asn: 4251100010
        my-asn: 4221111010
        hold-time: 180s
        min-rx: 100ms
        min-tx: 100ms
        multiplier: 9
        my-address-pools:
        - ccdm1-intersite
        - ccdm1-4g-traffic
      - peer-address: 10.255.45.2
        peer-asn: 4251100003
        my-asn: 4221111003
        hold-time: 180s
        min-rx: 100ms
        min-tx: 100ms
        multiplier: 9
        my-address-pools:
        - ingress
        - pcc1-oam
        - pcg1-oam
        - ccrc1-oam
        - ccsm1-oam
        - ccdm1-oam
        - ccdm1-5g-prov
        - ccdm1-4g-prov
        - cces1-oam
        - cces1-5g-prov
        - ccpc1-oam
        - ccpc1-5g-prov
        - eda1-oam
        - sc1-oam
      - peer-address: 10.255.45.3
        peer-asn: 4251100003
        my-asn: 4221111003
        hold-time: 180s
        min-rx: 100ms
        min-tx: 100ms
        multiplier: 9
        my-address-pools:
        - ingress
        - pcc1-oam
        - pcg1-oam
        - ccrc1-oam
        - ccsm1-oam
        - ccdm1-oam
        - ccdm1-5g-prov
        - ccdm1-4g-prov
        - cces1-oam
        - cces1-5g-prov
        - ccpc1-oam
        - ccpc1-5g-prov
        - eda1-oam
        - sc1-oam
      address-pools:
      - name: pcc1-amf-sbi
        protocol: bgp
        addresses:
        - 172.17.134.1/32
        auto-assign: false
      - name: pcc1-smf-nsmf
        protocol: bgp
        addresses:
        - 172.17.134.2/32
        auto-assign: false
      - name: pcc1-smf-notification
        protocol: bgp
        addresses:
        - 172.17.134.3/32
        auto-assign: false
      - name: ccdm1-5g-traffic
        protocol: bgp
        addresses:
        - 172.17.134.4/32
        auto-assign: false
      - name: cces1-5g-sbi-traffic
        protocol: bgp
        addresses:
        - 172.17.134.5/32
        auto-assign: false
      - name: cces1-5g-nbi-trust-traffic
        protocol: bgp
        addresses:
        - 172.17.134.6/32
        auto-assign: false
      - name: ccpc1-5g-traffic
        protocol: bgp
        addresses:
        - 172.17.134.7/32
        auto-assign: false
      - name: ccpc1-4g-traffic
        protocol: bgp
        addresses:
        - 172.17.134.8/32
        auto-assign: false
      - name: ccrc1-nrf-sig
        protocol: bgp
        addresses:
        - 172.17.134.9/32
        auto-assign: false
      - name: ccrc1-nssf-sig
        protocol: bgp
        addresses:
        - 172.17.134.10/32
        auto-assign: false
      - name: ccsm1-ausf-5g-sig
        protocol: bgp
        addresses:
        - 172.17.134.12/32
        auto-assign: false
      - name: ccsm1-udm-5g-sig
        protocol: bgp
        addresses:
        - 172.17.134.13/32
        auto-assign: false
      - name: ccsm1-dia-sig
        protocol: bgp
        addresses:
        - 172.17.134.14/32
        auto-assign: false
      - name: ccsm1-eir-5g-sig
        protocol: bgp
        addresses:
        - 172.17.134.15/32
        auto-assign: false
      - name: ccsm1-hss-epc-http-sig
        protocol: bgp
        addresses:
        - 172.17.134.16/32
        auto-assign: false
      - name: sc1-bsf-dia-sig
        protocol: bgp
        addresses:
        - 172.17.134.17/32
        auto-assign: false
      - name: sc1-bsf-sig
        protocol: bgp
        addresses:
        - 172.17.134.18/32
        auto-assign: false
      - name: sc1-scp-sig
        protocol: bgp
        addresses:
        - 172.17.134.19/32
        auto-assign: false
      - name: ccdm1-intersite
        protocol: bgp
        addresses:
        - 172.17.198.1/32
        auto-assign: false
      - name: ccdm1-4g-traffic
        protocol: bgp
        addresses:
        - 172.17.198.2/32
        auto-assign: false
      - name: ingress
        protocol: bgp
        addresses:
        - 10.143.139.68/32
        auto-assign: false
      - name: pcc1-oam
        protocol: bgp
        addresses:
        - 10.143.139.102/32
        auto-assign: false
      - name: pcg1-oam
        protocol: bgp
        addresses:
        - 10.143.139.104/32
        auto-assign: false
      - name: ccrc1-oam
        protocol: bgp
        addresses:
        - 10.143.139.105/32
        auto-assign: false
      - name: ccsm1-oam
        protocol: bgp
        addresses:
        - 10.143.139.109/32
        auto-assign: false
      - name: ccdm1-oam
        protocol: bgp
        addresses:
        - 10.143.139.110/32
        auto-assign: false
      - name: ccdm1-5g-prov
        protocol: bgp
        addresses:
        - 10.143.139.111/32
        auto-assign: false
      - name: ccdm1-4g-prov
        protocol: bgp
        addresses:
        - 10.143.139.112/32
        auto-assign: false
      - name: cces1-oam
        protocol: bgp
        addresses:
        - 10.143.139.113/32
        auto-assign: false
      - name: cces1-5g-prov
        protocol: bgp
        addresses:
        - 10.143.139.114/32
        auto-assign: false
      - name: ccpc1-oam
        protocol: bgp
        addresses:
        - 10.143.139.115/32
        auto-assign: false
      - name: ccpc1-5g-prov
        protocol: bgp
        addresses:
        - 10.143.139.116/32
        auto-assign: false
      - name: eda1-oam
        protocol: bgp
        addresses:
        - 10.143.139.117/32
        auto-assign: false
      - name: sc1-oam
        protocol: bgp
        addresses:
        - 10.143.139.118/32
        auto-assign: false
- name: openstack-cloud-controller-manager
  spec:
    timeout: 50h
- name: openstack-cinder
  spec:
    #Default value is 25 in CCD 2.26.0RC2
    volume_attach_limit: 30
    storage_classes:
    - name: csi-cinder-sc-delete
      spec:
        reclaim_policy: Delete
        allow_volume_expansion: true
      default: true
    - name: csi-cinder-sc-retain
      spec:
        reclaim_policy: Retain
    openstack_hosts:
    - https://os-ext-vip.n280vpod1cee.sc.sero.gic.ericsson.se:5000/v3
    openstack_ports:
    - 5000 # identity
    - 8774 # compute
    - 8776 # block storage
    - 9696 # neutron
    - 8786 # manila
    - 13000
    - 13774
    - 13776
    - 13786
    - 13696
- name: ccd-licensing
  spec:
    storage_class: csi-cinder-sc-delete
    #db_ha_disabled: true
    ccd_licensing_lm_db_migration_cpu_req: "100m"
    ccd_app_sys_info:
      nels:
        host_ip: 10.155.142.68
        host_name: nelsaas-vnf1-thrift.sero.gic.ericsson.se
- name: pm
  spec:
    victoria_metrics:
      #deploy_in_workers: true
      collect_only_ccd_namespace_metrics: false
      vmselect:
        #ha_enabled: "false"
        resources:
          limits:
            cpu: "2"
            memory: 4Gi
            ephemeral_storage: 8Gi
          requests:
            cpu: 500m
            memory: 256Mi
            ephemeral_storage: 512Mi
        ingress:
          enable: "true"
          hostname: "monitoring-vmselect.ingress.n280-eccd4.sero.gic.ericsson.se"
      vmstorage:
        #ha_enabled: "false"
        resources:
          limits:
            memory: 7Gi
        volume:
          size: 200Gi
          storage_class: csi-cinder-sc-delete
        retention_time: 30d
      vmagent:
        scrape_interval: 60s
        maxscrape_size: 256MB
        resources:
          limits:
            memory: 700Mi
        # remote_write_urls:
        #   - url: http://10.117.58.8:1111/receive
        #     username: abc
        #     password: 123
        #   - url: http://10.117.58.8:1234/receive
        #     username:
        #     password:
      vmalert:
        #ha_enabled: "false"
    alertmanager:
      resources:
        limits:
          cpu: 100m
          memory: 200Mi
        requests:
          cpu: 10m
          memory: 100Mi
      ingress:
        enable: "true"
        hostname: "monitoring-alertmanager.ingress.n280-eccd4.sero.gic.ericsson.se"
    node_exporter:
      default_collectors_disabled: false
- name: subport-controller-manager
  spec: {}
