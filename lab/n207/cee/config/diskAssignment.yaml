---
diskAssignments:
  - name: controller_disks_DELL_R650
    drives:
      - name: disk1
        type: local
        id: /dev/disk/by-path/pci-0000:67:00.0-scsi-0:0:1:0
        labelType: gpt
        bootable: true
        partitions:
          - name: btrfs
            size: 50GiB
          - name: gluster_pv_1
            size: 100GiB
          - name: lvm_pv_1
            size: max
      - name: disk2
        type: local
        id: /dev/disk/by-path/pci-0000:67:00.0-scsi-0:0:0:0
        labelType: gpt
        bootable: false
        partitions:
                #          - name: scaleio
                #            size: 100GiB
                #            owner: sio:pool1
          - name: lvm_pv_2
            size: 80%
          - name: gluster_pv_2
            size: max
    volumeGroups:
      - name: system
        physicalVolumes:
          - type: partition
            partname: lvm_pv_1
          - type: partition
            partname: lvm_pv_2
        logicalVolumes:
          - name: log
            size: 10GiB
          - name: audit
            size: 500MiB
          - name: vtmp
            size: 500MiB
          - name: crash
            size: 10GiB
          - name: mysql
            size: 50GiB
          - name: rabbitmq
            size: 15GiB
          - name: cinder_volume
            size: 30GiB
            #          - name: nova
            #            size: 4GiB
          - name: docker
            size: 50GiB
          - name: swiftobj
            size: 100GiB
          - name: infra
            size: 700GiB
      - name: gluster
        physicalVolumes:
          - type: partition
            partname: gluster_pv_1
          - type: partition
            partname: gluster_pv_2
        logicalVolumes:
          - name: gluster
            size: 100%
    volumes:
      - name: root
        type: btrfs
        mount: /
        format: true
        fstype: btrfs
        owner:
          name: os
        devices:
          - type: partition
            partname: btrfs
        subvolumes:
          - name: /boot/grub2/x86_64-efi
            cow: false
          - name: /tmp
            cow: false
          - name: /home
            cow: false
          - name: /opt
            cow: false
          - name: /srv
            cow: false
          - name: /var
            cow: false
            #          - name: /boot/grub2/x86_64-efi
            #            cow: false
            #      - name: nova
            #        type: lvm
            #        volumeGroup: system
            #        logicalVolume: nova
            #        mount: /var/lib/nova
            #        format: true
            #        fstype: ext4
            #        owner:
            #          name: compute
      - name: infra
        type: lvm
        volumeGroup: system
        logicalVolume: infra
        mount: /var/lib/infra
        format: true
        fstype: ext4
        mkfsOptions: "-m 0"
        owner:
          name: infra
      - name: log
        type: lvm
        volumeGroup: system
        logicalVolume: log
        mount: /var/log
        format: true
        fstype: ext4
        owner:
          name: rsyslog
      - name: audit
        type: lvm
        volumeGroup: system
        logicalVolume: audit
        mount: /var/log/audit
        format: true
        fstype: ext4
        owner:
          name: audit
      - name: vtmp
        type: lvm
        volumeGroup: system
        logicalVolume: vtmp
        mount: /var/tmp
        mountOptions: "noexec,nosuid,nodev"
        format: true
        fstype: ext4
        owner:
          name: vtmp
      - name: crash
        type: lvm
        volumeGroup: system
        logicalVolume: crash
        mount: /var/crash
        format: true
        fstype: ext4
        owner:
          name: crash
      - name: mysql
        type: lvm
        volumeGroup: system
        logicalVolume: mysql
        mount: /var/lib/mysql
        format: true
        fstype: ext4
        owner:
          name: mariadb
      - name: rabbitmq
        type: lvm
        volumeGroup: system
        logicalVolume: rabbitmq
        mount: /var/lib/rabbitmq
        format: true
        fstype: ext4
        owner:
          name: rabbitmq
      - name: docker
        type: lvm
        volumeGroup: system
        logicalVolume: docker
        mount: /var/lib/docker
        format: true
        fstype: ext4
        owner:
          name: docker
      - name: cinder_volume
        type: lvm
        volumeGroup: system
        logicalVolume: cinder_volume
        mount: /var/lib/cinder
        format: true
        fstype: ext4
        owner:
          name: cinder-volume
      - name: swiftobj
        type: lvm
        volumeGroup: system
        logicalVolume: swiftobj
        mount: /var/lib/swift
        format: true
        fstype: ext4
        owner:
          name: swift
          attributes:
            swiftRings:
              - account
              - container
              - object-0
              - object-1
  - name: controller_disks_HPE_DL360G10
    drives:
      - name: disk1
        type: local
        id: /dev/disk/by-path/pci-0000:47:00.0-scsi-0:1:0:0
        labelType: gpt
        bootable: true
        partitions:
          - name: btrfs
            size: 50GiB
          - name: gluster_pv_1
            size: 100GiB
          - name: lvm_pv_1
            size: max
      - name: disk2
        type: local
        id: /dev/disk/by-path/pci-0000:47:00.0-scsi-0:1:0:1
        labelType: gpt
        bootable: false
        partitions:
          - name: scaleio
            size: 100GiB
            owner: sio:pool1
          - name: lvm_pv_2
            size: 750GiB
    volumeGroups:
      - name: system
        physicalVolumes:
          - type: partition
            partname: lvm_pv_1
          - type: partition
            partname: lvm_pv_2
        logicalVolumes:
          - name: log
            size: 10GiB
          - name: audit
            size: 500MiB
          - name: vtmp
            size: 500MiB
          - name: crash
            size: 10GiB
          - name: mysql
            size: 15GiB
          - name: rabbitmq
            size: 5GiB
          - name: cinder_volume
            size: 30GiB
          - name: nova
            size: 400GiB
          - name: docker
            size: 50GiB
          - name: swiftobj
            size: 100GiB
          - name: infra
            size: 800GiB
      - name: gluster
        physicalVolumes:
          - type: partition
            partname: gluster_pv_1
        logicalVolumes:
          - name: gluster
            size: 100%
    volumes:
      - name: root
        type: btrfs
        mount: /
        format: true
        fstype: btrfs
        owner:
          name: os
        devices:
          - type: partition
            partname: btrfs
        subvolumes:
          - name: /boot/grub2/x86_64-efi
            cow: false
          - name: /tmp
            cow: false
          - name: /home
            cow: false
          - name: /opt
            cow: false
          - name: /srv
            cow: false
          - name: /var
            cow: false
      - name: nova
        type: lvm
        volumeGroup: system
        logicalVolume: nova
        mount: /var/lib/nova
        format: true
        fstype: ext4
        owner:
          name: compute
      - name: infra
        type: lvm
        volumeGroup: system
        logicalVolume: infra
        mount: /var/lib/infra
        format: true
        fstype: ext4
        owner:
          name: infra
      - name: log
        type: lvm
        volumeGroup: system
        logicalVolume: log
        mount: /var/log
        format: true
        fstype: ext4
        owner:
          name: rsyslog
      - name: audit
        type: lvm
        volumeGroup: system
        logicalVolume: audit
        mount: /var/log/audit
        format: true
        fstype: ext4
        owner:
          name: audit
      - name: vtmp
        type: lvm
        volumeGroup: system
        logicalVolume: vtmp
        mount: /var/tmp
        mountOptions: "noexec,nosuid,nodev"
        format: true
        fstype: ext4
        owner:
          name: vtmp
      - name: crash
        type: lvm
        volumeGroup: system
        logicalVolume: crash
        mount: /var/crash
        format: true
        fstype: ext4
        owner:
          name: crash
      - name: mysql
        type: lvm
        volumeGroup: system
        logicalVolume: mysql
        mount: /var/lib/mysql
        format: true
        fstype: ext4
        owner:
          name: mariadb
      - name: rabbitmq
        type: lvm
        volumeGroup: system
        logicalVolume: rabbitmq
        mount: /var/lib/rabbitmq
        format: true
        fstype: ext4
        owner:
          name: rabbitmq
      - name: docker
        type: lvm
        volumeGroup: system
        logicalVolume: docker
        mount: /var/lib/docker
        format: true
        fstype: ext4
        owner:
          name: docker
      - name: cinder_volume
        type: lvm
        volumeGroup: system
        logicalVolume: cinder_volume
        mount: /var/lib/cinder
        format: true
        fstype: ext4
        owner:
          name: cinder-volume
      - name: swiftobj
        type: lvm
        volumeGroup: system
        logicalVolume: swiftobj
        mount: /var/lib/swift
        format: true
        fstype: ext4
        owner:
          name: swift
          attributes:
            swiftRings:
              - account
              - container
              - object-0
              - object-1
  - name: csc_disks
    drives:
      - name: disk1
        type: virtual
        diskBackend:
          type: image
          imagetype: raw
          path: /var/lib/infra/images
          preallocate: falloc
          size: 90GiB
        id: /dev/vda
        labelType: gpt
        bootable: true
        partitions:
          - name: btrfs
            size: 20GiB
          - name: lvm_pv_1
            size: max
    volumeGroups:
      - name: system
        physicalVolumes:
          - type: partition
            partname: lvm_pv_1
        logicalVolumes:
          - name: log
            size: 10GiB
          - name: audit
            size: 500MiB
          - name: vtmp
            size: 500MiB
          - name: crash
            size: 30GiB
          - name: docker
            size: 12GiB
          - name: cscupdate
            size: 10GiB
          - name: sdnc
            size: 100%FREE
    volumes:
      - name: root
        type: btrfs
        mount: /
        format: true
        fstype: btrfs
        owner:
          name: os
        devices:
          - type: partition
            partname: btrfs
        subvolumes:
          - name: /tmp
            cow: false
          - name: /home
            cow: false
          - name: /opt
            cow: false
          - name: /srv
            cow: false
          - name: /var
            cow: false
          - name: /boot/grub2/x86_64-efi
            cow: false
      - name: docker
        type: lvm
        volumeGroup: system
        logicalVolume: docker
        mount: /var/lib/docker
        format: true
        fstype: ext4
        owner:
          name: docker
      - name: log
        type: lvm
        volumeGroup: system
        logicalVolume: log
        mount: /var/log
        format: true
        fstype: ext4
        owner:
          name: rsyslog
      - name: audit
        type: lvm
        volumeGroup: system
        logicalVolume: audit
        mount: /var/log/audit
        format: true
        fstype: ext4
        owner:
          name: audit
      - name: vtmp
        type: lvm
        volumeGroup: system
        logicalVolume: vtmp
        mount: /var/tmp
        mountOptions: "noexec,nosuid,nodev"
        format: true
        fstype: ext4
        owner:
          name: vtmp
      - name: crash
        type: lvm
        volumeGroup: system
        logicalVolume: crash
        mount: /var/crash
        format: true
        fstype: ext4
        owner:
          name: crash
      - name: sdnc
        type: lvm
        volumeGroup: system
        logicalVolume: sdnc
        mount: /opt/sdnc
        format: true
        fstype: ext4
        owner:
          name: sdnc
      - name: cscupdate
        type: lvm
        volumeGroup: system
        logicalVolume: cscupdate
        mount: /cscupdate
        format: true
        fstype: ext4
        owner:
          name: cscupdate
  - name: compute_disks_DELLR650
    drives:
      - name: disk1
        type: local
        id: /dev/disk/by-path/pci-0000:67:00.0-scsi-0:0:0:0
        labelType: gpt
        bootable: true
        partitions:
          - name: btrfs
            size: 20GiB
          - name: lvm_pv_1
            size: max
      - name: disk2
        type: local
        id: /dev/disk/by-path/pci-0000:67:00.0-scsi-0:0:1:0
        labelType: gpt
        bootable: false
        owner: sio:pool1
    volumeGroups:
      - name: system
        physicalVolumes:
          - type: partition
            partname: lvm_pv_1
        logicalVolumes:
          - name: log
            size: 10GiB
          - name: audit
            size: 500MiB
          - name: vtmp
            size: 500MiB
          - name: crash
            size: 30GiB
          - name: docker
            size: 7GiB
          - name: nova
            size: 100%FREE
    volumes:
      - name: root
        type: btrfs
        mount: /
        format: true
        fstype: btrfs
        owner:
          name: os
        devices:
          - type: partition
            partname: btrfs
        subvolumes:
          - name: /boot/grub2/x86_64-efi
            cow: false
          - name: /tmp
            cow: false
          - name: /home
            cow: false
          - name: /opt
            cow: false
          - name: /srv
            cow: false
          - name: /var
            cow: false
      - name: docker
        type: lvm
        volumeGroup: system
        logicalVolume: docker
        mount: /var/lib/docker
        format: true
        fstype: ext4
        owner:
          name: docker
      - name: log
        type: lvm
        volumeGroup: system
        logicalVolume: log
        mount: /var/log
        format: true
        fstype: ext4
        owner:
          name: rsyslog
      - name: audit
        type: lvm
        volumeGroup: system
        logicalVolume: audit
        mount: /var/log/audit
        format: true
        fstype: ext4
        owner:
          name: audit
      - name: vtmp
        type: lvm
        volumeGroup: system
        logicalVolume: vtmp
        mount: /var/tmp
        mountOptions: "noexec,nosuid,nodev"
        format: true
        fstype: ext4
        owner:
          name: vtmp
      - name: crash
        type: lvm
        volumeGroup: system
        logicalVolume: crash
        mount: /var/crash
        format: true
        fstype: ext4
        owner:
          name: crash
      - name: nova
        type: lvm
        volumeGroup: system
        logicalVolume: nova
        mount: /var/lib/nova
        format: true
        fstype: ext4
        owner:
          name: compute
  #copied from HPE so needs change

##compute-1-104-mdm compute-1-105-mdm
  - name: DELL_R650_compute_disks_vxsds_1
    drives:
      - name: disk1
        type: local
        id: /dev/disk/by-path/pci-0000:67:00.0-scsi-0:0:0:0
        labelType: gpt
        bootable: true
        partitions:
          - name: btrfs
            size: 16GiB
          - name: lvm_pv_1
            size: max
      - name: disk2
        type: local
        id: /dev/disk/by-path/pci-0000:67:00.0-scsi-0:0:1:0
        labelType: gpt
        bootable: false
        owner: sio:pool1
      - name: disk3
        type: local
        id: /dev/disk/by-path/pci-0000:67:00.0-scsi-0:0:7:0
        labelType: gpt
        bootable: false
        owner: sio:pool1
      - name: disk4
        type: local
        id: /dev/disk/by-path/pci-0000:67:00.0-scsi-0:0:8:0
        labelType: gpt
        bootable: false
        owner: sio:pool1
      - name: disk5
        type: local
        id: /dev/disk/by-path/pci-0000:67:00.0-scsi-0:0:9:0
        labelType: gpt
        bootable: false
        owner: sio:pool1
      - name: disk6
        type: local
        id: /dev/disk/by-path/pci-0000:67:00.0-scsi-0:0:10:0
        labelType: gpt
        bootable: false
        owner: sio:pool1
      - name: disk7
        type: local
        id: /dev/disk/by-path/pci-0000:67:00.0-scsi-0:0:11:0
        labelType: gpt
        bootable: false
        owner: sio:pool1
    volumeGroups:
      - name: system
        physicalVolumes:
          - type: partition
            partname: lvm_pv_1
        logicalVolumes:
          - name: log
            size: 10GiB
          - name: crash
            size: 30GiB
          - name: docker
            size: 10GiB
          - name: nova
            size: 100%FREE
    volumes:
      - name: root
        type: btrfs
        mount: /
        format: true
        fstype: btrfs
        owner:
          name: os
        devices:
          - type: partition
            partname: btrfs
        subvolumes:
          - name: /tmp
            cow: false
          - name: /home
            cow: false
          - name: /opt
            cow: false
          - name: /srv
            cow: false
          - name: /var
            cow: false
          - name: /boot/grub2/x86_64-efi
            cow: false
      - name: docker
        type: lvm
        volumeGroup: system
        logicalVolume: docker
        mount: /var/lib/docker
        format: true
        fstype: ext4
        owner:
          name: docker
      - name: log
        type: lvm
        volumeGroup: system
        logicalVolume: log
        mount: /var/log
        format: true
        fstype: ext4
        owner:
          name: rsyslog
      - name: crash
        type: lvm
        volumeGroup: system
        logicalVolume: crash
        mount: /var/crash
        format: true
        fstype: ext4
        owner:
          name: crash
      - name: nova
        type: lvm
        volumeGroup: system
        logicalVolume: nova
        mount: /var/lib/nova
        format: true
        fstype: ext4
        owner:
          name: compute
## compute-1-106-mdm compute-1-107-tb compute-1-108-tb
  - name: DELL_R650_compute_disks_vxsds_2
    drives:
      - name: disk1
        type: local
        id: /dev/disk/by-path/pci-0000:67:00.0-scsi-0:0:0:0
        labelType: gpt
        bootable: true
        partitions:
          - name: btrfs
            size: 16GiB
          - name: lvm_pv_1
            size: max
      - name: disk2
        type: local
        id: /dev/disk/by-path/pci-0000:67:00.0-scsi-0:0:1:0
        labelType: gpt
        bootable: false
        owner: sio:pool1
      - name: disk3
        type: local
        id: /dev/disk/by-path/pci-0000:67:00.0-scsi-0:0:2:0
        labelType: gpt
        bootable: false
        owner: sio:pool1
      - name: disk4
        type: local
        id: /dev/disk/by-path/pci-0000:67:00.0-scsi-0:0:3:0
        labelType: gpt
        bootable: false
        owner: sio:pool1
      - name: disk5
        type: local
        id: /dev/disk/by-path/pci-0000:67:00.0-scsi-0:0:4:0
        labelType: gpt
        bootable: false
        owner: sio:pool1
      - name: disk6
        type: local
        id: /dev/disk/by-path/pci-0000:67:00.0-scsi-0:0:5:0
        labelType: gpt
        bootable: false
        owner: sio:pool1
      - name: disk7
        type: local
        id: /dev/disk/by-path/pci-0000:67:00.0-scsi-0:0:6:0
        labelType: gpt
        bootable: false
        owner: sio:pool1
    volumeGroups:
      - name: system
        physicalVolumes:
          - type: partition
            partname: lvm_pv_1
        logicalVolumes:
          - name: log
            size: 10GiB
          - name: crash
            size: 30GiB
          - name: docker
            size: 10GiB
          - name: nova
            size: 100%FREE
    volumes:
      - name: root
        type: btrfs
        mount: /
        format: true
        fstype: btrfs
        owner:
          name: os
        devices:
          - type: partition
            partname: btrfs
        subvolumes:
          - name: /tmp
            cow: false
          - name: /home
            cow: false
          - name: /opt
            cow: false
          - name: /srv
            cow: false
          - name: /var
            cow: false
          - name: /boot/grub2/x86_64-efi
            cow: false
      - name: docker
        type: lvm
        volumeGroup: system
        logicalVolume: docker
        mount: /var/lib/docker
        format: true
        fstype: ext4
        owner:
          name: docker
      - name: log
        type: lvm
        volumeGroup: system
        logicalVolume: log
        mount: /var/log
        format: true
        fstype: ext4
        owner:
          name: rsyslog
      - name: crash
        type: lvm
        volumeGroup: system
        logicalVolume: crash
        mount: /var/crash
        format: true
        fstype: ext4
        owner:
          name: crash
      - name: nova
        type: lvm
        volumeGroup: system
        logicalVolume: nova
        mount: /var/lib/nova
        format: true
        fstype: ext4
        owner:
          name: compute

  - name: DELL_R650_compute_disks_vxsds_3
    drives:
      - name: disk1
        type: local
        id: /dev/disk/by-path/pci-0000:67:00.0-scsi-0:0:0:0
        labelType: gpt
        bootable: true
        partitions:
          - name: btrfs
            size: 16GiB
          - name: lvm_pv_1
            size: max
      - name: disk2
        type: local
        id: /dev/disk/by-path/pci-0000:67:00.0-scsi-0:0:1:0
        labelType: gpt
        bootable: no
        owner: sio:pool1
      - name: disk3
        type: local
        id: /dev/disk/by-path/pci-0000:67:00.0-scsi-0:0:3:0
        labelType: gpt
        bootable: no
        owner: sio:pool1
      - name: disk4
        type: local
        id: /dev/disk/by-path/pci-0000:67:00.0-scsi-0:0:2:0
        labelType: gpt
        bootable: no
        owner: sio:pool1
      - name: disk5
        type: local
        id: /dev/disk/by-path/pci-0000:67:00.0-scsi-0:0:4:0
        labelType: gpt
        bootable: no
        owner: sio:pool1
      - name: disk6
        type: local
        id: /dev/disk/by-path/pci-0000:67:00.0-scsi-0:0:5:0
        labelType: gpt
        bootable: no
        owner: sio:pool1
      - name: disk7
        type: local
        id: /dev/disk/by-path/pci-0000:67:00.0-scsi-0:0:6:0
        labelType: gpt
        bootable: no
        owner: sio:pool1
    volumeGroups:
      - name: system
        physicalVolumes:
          - type: partition
            partname: lvm_pv_1
        logicalVolumes:
          - name: log
            size: 10GiB
          - name: crash
            size: 30GiB
          - name: docker
            size: 10GiB
          - name: nova
            size: 100%FREE
    volumes:
      - name: root
        type: btrfs
        mount: /
        format: true
        fstype: btrfs
        owner:
          name: os
        devices:
          - type: partition
            partname: btrfs
        subvolumes:
          - name: /tmp
            cow: false
          - name: /home
            cow: false
          - name: /opt
            cow: false
          - name: /srv
            cow: false
          - name: /var
            cow: false
          - name: /boot/grub2/x86_64-efi
            cow: false
      - name: docker
        type: lvm
        volumeGroup: system
        logicalVolume: docker
        mount: /var/lib/docker
        format: true
        fstype: ext4
        owner:
          name: docker
      - name: log
        type: lvm
        volumeGroup: system
        logicalVolume: log
        mount: /var/log
        format: true
        fstype: ext4
        owner:
          name: rsyslog
      - name: crash
        type: lvm
        volumeGroup: system
        logicalVolume: crash
        mount: /var/crash
        format: true
        fstype: ext4
        owner:
          name: crash
      - name: nova
        type: lvm
        volumeGroup: system
        logicalVolume: nova
        mount: /var/lib/nova
        format: true
        fstype: ext4
        owner:
          name: compute

#need to be Dell R650 standard_vxsds
  - name: compute_HP_DL360_6X25G_disks_sds
    drives:
      - name: disk1
        type: local
        id: /dev/disk/by-path/pci-0000:67:00.0-scsi-0:2:0:0
###############################################
## Block device scheduler(elevator) settings
## could be listed here. All the parameters
## will be applied directly by udev rules.
###############################################
#        scheduler:
#          algorithm: "mq-deadline"
#          parameter:
#            writes_starved: 3
#            read_expire: 400
#            write_expire: 2500
#            front_merges: 1
#            fifo_batch: 16
#        scheduler:
#          algorithm: "bfq"
#          parameter:
#            back_seek_max: 16383
#            back_seek_penalty: 2
#            fifo_expire_async: 249
#            low_latency: 1
#            max_budget: 0
        labelType: gpt
        bootable: true
        partitions:
          - name: btrfs
            size: 16GiB
          - name: lvm_pv_1
            size: max
            ## VxSDS Option 1: VxSDS SDS device on drive partition
#          - name: vxsds_1
#            size: 100GiB
#            owner: sio:pool1
             ## VxSDS Option 2: VxSDS SDS device on logical volume
#          - name: lvm_pv_2
#            size: 150GiB
        ## VxSDS Option 3: VxSDS SDS device on dedicated disk
      - name: disk2
        type: local
        id: /dev/disk/by-path/pci-0000:67:00.0-scsi-0:0:2:0
        labelType: gpt
        bootable: false
        owner: sio:pool1
        #        partitions:
        #          - name: lvm_pv_2
        #            size: max
      - name: disk3
        type: local
        id: /dev/disk/by-path/pci-0000:67:00.0-scsi-0:0:3:0
        labelType: gpt
        bootable: false
        owner: sio:pool1
      - name: disk4
        type: local
        id: /dev/disk/by-path/pci-0000:67:00.0-scsi-0:0:4:0
        labelType: gpt
        bootable: false
        owner: sio:pool1
      - name: disk5
        type: local
        id: /dev/disk/by-path/pci-0000:67:00.0-scsi-0:0:5:0
        labelType: gpt
        bootable: false
        owner: sio:pool1
      - name: disk6
        type: local
        id: /dev/disk/by-path/pci-0000:67:00.0-scsi-0:0:6:0
        labelType: gpt
        bootable: false
        owner: sio:pool1
        #      - name: disk7
        #        type: local
        #        id: /dev/disk/by-path/pci-0000:00:17.0-ata-7
        #        labelType: gpt
        #        bootable: false
        #        owner: sio:pool1
        #      - name: disk8
        #        type: local
        #        id: /dev/disk/by-path/pci-0000:00:17.0-ata-8
        #        labelType: gpt
        #        bootable: false
        #        owner: sio:pool1
    volumeGroups:
      - name: system
        physicalVolumes:
          - type: partition
            partname: lvm_pv_1
            #          - type: partition
            #            partname: lvm_pv_2
        logicalVolumes:
          - name: log
            size: 10GiB
          - name: crash
            size: 30GiB
          - name: docker
            size: 10GiB
          - name: nova
            size: 100%FREE
        ## VxSDS Option 2: VxSDS SDS device on logical volume
#      - name: vxsds
#        physicalVolumes:
#          - type: partition
#            partname: lvm_pv_2
#        logicalVolumes:
#          - name: vxsds_dev
#            size: 100%
#            owner: sio:pool1
    volumes:
      - name: root
        type: btrfs
        mount: /
        format: true
        fstype: btrfs
        owner:
          name: os
        devices:
          - type: partition
            partname: btrfs
        subvolumes:
          - name: /tmp
            cow: false
          - name: /home
            cow: false
          - name: /opt
            cow: false
          - name: /srv
            cow: false
          - name: /var
            cow: false
          - name: /boot/grub2/x86_64-efi
            cow: false
      - name: docker
        type: lvm
        volumeGroup: system
        logicalVolume: docker
        mount: /var/lib/docker
        format: true
        fstype: ext4
        owner:
          name: docker
      - name: log
        type: lvm
        volumeGroup: system
        logicalVolume: log
        mount: /var/log
        format: true
        fstype: ext4
        owner:
          name: rsyslog
      - name: crash
        type: lvm
        volumeGroup: system
        logicalVolume: crash
        mount: /var/crash
        format: true
        fstype: ext4
        owner:
          name: crash
      - name: nova
        type: lvm
        volumeGroup: system
        logicalVolume: nova
        mount: /var/lib/nova
        format: true
        fstype: ext4
        owner:
          name: compute
  - name: compute_disks_HPE_DL360_DL380
    drives:
      - name: disk1
        type: local
        id: /dev/disk/by-path/pci-0000:47:00.0-scsi-0:1:0:0
        labelType: gpt
        bootable: true
        partitions:
          - name: btrfs
            size: 20GiB
          - name: lvm_pv_1
            size: max
      - name: disk2
        type: local
        id: /dev/disk/by-path/pci-0000:47:00.0-scsi-0:1:0:1
        labelType: gpt
        bootable: false
        owner: sio:pool1
    volumeGroups:
      - name: system
        physicalVolumes:
          - type: partition
            partname: lvm_pv_1
        logicalVolumes:
          - name: log
            size: 10GiB
          - name: audit
            size: 500MiB
          - name: vtmp
            size: 500MiB
          - name: crash
            size: 30GiB
          - name: docker
            size: 7GiB
          - name: nova
            size: 100%FREE
    volumes:
      - name: root
        type: btrfs
        mount: /
        format: true
        fstype: btrfs
        owner:
          name: os
        devices:
          - type: partition
            partname: btrfs
        subvolumes:
          - name: /boot/grub2/x86_64-efi
            cow: false
          - name: /tmp
            cow: false
          - name: /home
            cow: false
          - name: /opt
            cow: false
          - name: /srv
            cow: false
          - name: /var
            cow: false
      - name: docker
        type: lvm
        volumeGroup: system
        logicalVolume: docker
        mount: /var/lib/docker
        format: true
        fstype: ext4
        owner:
          name: docker
      - name: log
        type: lvm
        volumeGroup: system
        logicalVolume: log
        mount: /var/log
        format: true
        fstype: ext4
        owner:
          name: rsyslog
      - name: audit
        type: lvm
        volumeGroup: system
        logicalVolume: audit
        mount: /var/log/audit
        format: true
        fstype: ext4
        owner:
          name: audit
      - name: vtmp
        type: lvm
        volumeGroup: system
        logicalVolume: vtmp
        mount: /var/tmp
        mountOptions: "noexec,nosuid,nodev"
        format: true
        fstype: ext4
        owner:
          name: vtmp
      - name: crash
        type: lvm
        volumeGroup: system
        logicalVolume: crash
        mount: /var/crash
        format: true
        fstype: ext4
        owner:
          name: crash
      - name: nova
        type: lvm
        volumeGroup: system
        logicalVolume: nova
        mount: /var/lib/nova
        format: true
        fstype: ext4
        owner:
          name: compute
  - name: compute_disks
    drives:
      - name: disk1
        type: local
        id: /dev/disk/by-path/pci-0000:00:11.5-ata-3
        labelType: gpt
        bootable: true
        partitions:
          - name: btrfs
            size: 20GiB
          - name: lvm_pv_1
            size: max
      - name: disk2
        type: local
        id: /dev/disk/by-path/pci-0000:00:11.5-ata-4
        labelType: gpt
        bootable: false
        owner: sio:pool1
    volumeGroups:
      - name: system
        physicalVolumes:
          - type: partition
            partname: lvm_pv_1
        logicalVolumes:
          - name: log
            size: 10GiB
          - name: audit
            size: 500MiB
          - name: vtmp
            size: 500MiB
          - name: crash
            size: 30GiB
          - name: docker
            size: 7GiB
          - name: nova
            size: 100%FREE
    volumes:
      - name: root
        type: btrfs
        mount: /
        format: true
        fstype: btrfs
        owner:
          name: os
        devices:
          - type: partition
            partname: btrfs
        subvolumes:
          - name: /boot/grub2/x86_64-efi
            cow: false
          - name: /tmp
            cow: false
          - name: /home
            cow: false
          - name: /opt
            cow: false
          - name: /srv
            cow: false
          - name: /var
            cow: false
      - name: docker
        type: lvm
        volumeGroup: system
        logicalVolume: docker
        mount: /var/lib/docker
        format: true
        fstype: ext4
        owner:
          name: docker
      - name: log
        type: lvm
        volumeGroup: system
        logicalVolume: log
        mount: /var/log
        format: true
        fstype: ext4
        owner:
          name: rsyslog
      - name: audit
        type: lvm
        volumeGroup: system
        logicalVolume: audit
        mount: /var/log/audit
        format: true
        fstype: ext4
        owner:
          name: audit
      - name: vtmp
        type: lvm
        volumeGroup: system
        logicalVolume: vtmp
        mount: /var/tmp
        mountOptions: "noexec,nosuid,nodev"
        format: true
        fstype: ext4
        owner:
          name: vtmp
      - name: crash
        type: lvm
        volumeGroup: system
        logicalVolume: crash
        mount: /var/crash
        format: true
        fstype: ext4
        owner:
          name: crash
      - name: nova
        type: lvm
        volumeGroup: system
        logicalVolume: nova
        mount: /var/lib/nova
        format: true
        fstype: ext4
        owner:
          name: compute
  - name: compute5_disks
    drives:
      - name: disk1
        type: local
        id: /dev/disk/by-path/pci-0000:00:11.5-ata-3
        labelType: gpt
        bootable: true
        partitions:
          - name: btrfs
            size: 20GiB
          - name: lvm_pv_1
            size: max
      - name: disk2
        type: local
        id: /dev/disk/by-path/pci-0000:00:11.5-ata-4
        labelType: gpt
        bootable: false
        owner: sio:pool1
    volumeGroups:
      - name: system
        physicalVolumes:
          - type: partition
            partname: lvm_pv_1
        logicalVolumes:
          - name: log
            size: 10GiB
          - name: audit
            size: 500MiB
          - name: vtmp
            size: 500MiB
          - name: crash
            size: 30GiB
          - name: docker
            size: 7GiB
          - name: nova
            size: 100%FREE
    volumes:
      - name: root
        type: btrfs
        mount: /
        format: true
        fstype: btrfs
        owner:
          name: os
        devices:
          - type: partition
            partname: btrfs
        subvolumes:
          - name: /boot/grub2/x86_64-efi
            cow: false
          - name: /tmp
            cow: false
          - name: /home
            cow: false
          - name: /opt
            cow: false
          - name: /srv
            cow: false
          - name: /var
            cow: false
      - name: docker
        type: lvm
        volumeGroup: system
        logicalVolume: docker
        mount: /var/lib/docker
        format: true
        fstype: ext4
        owner:
          name: docker
      - name: log
        type: lvm
        volumeGroup: system
        logicalVolume: log
        mount: /var/log
        format: true
        fstype: ext4
        owner:
          name: rsyslog
      - name: audit
        type: lvm
        volumeGroup: system
        logicalVolume: audit
        mount: /var/log/audit
        format: true
        fstype: ext4
        owner:
          name: audit
      - name: vtmp
        type: lvm
        volumeGroup: system
        logicalVolume: vtmp
        mount: /var/tmp
        mountOptions: "noexec,nosuid,nodev"
        format: true
        fstype: ext4
        owner:
          name: vtmp
      - name: crash
        type: lvm
        volumeGroup: system
        logicalVolume: crash
        mount: /var/crash
        format: true
        fstype: ext4
        owner:
          name: crash
      - name: nova
        type: lvm
        volumeGroup: system
        logicalVolume: nova
        mount: /var/lib/nova
        format: true
        fstype: ext4
        owner:
          name: compute
  - name: compute9_disks
    drives:
      - name: disk1
        type: local
        id: /dev/disk/by-path/pci-0000:18:00.0-sas-phy6-lun-0
        labelType: gpt
        bootable: true
        partitions:
          - name: btrfs
            size: 20GiB
          - name: lvm_pv_1
            size: max
      - name: disk2
        type: local
        id: /dev/disk/by-path/pci-0000:18:00.0-sas-phy7-lun-0
        labelType: gpt
        bootable: false
        owner: sio:pool1
    volumeGroups:
      - name: system
        physicalVolumes:
          - type: partition
            partname: lvm_pv_1
        logicalVolumes:
          - name: log
            size: 10GiB
          - name: audit
            size: 500MiB
          - name: vtmp
            size: 500MiB
          - name: crash
            size: 30GiB
          - name: docker
            size: 7GiB
          - name: nova
            size: 100%FREE
    volumes:
      - name: root
        type: btrfs
        mount: /
        format: true
        fstype: btrfs
        owner:
          name: os
        devices:
          - type: partition
            partname: btrfs
        subvolumes:
          - name: /boot/grub2/x86_64-efi
            cow: false
          - name: /tmp
            cow: false
          - name: /home
            cow: false
          - name: /opt
            cow: false
          - name: /srv
            cow: false
          - name: /var
            cow: false
      - name: docker
        type: lvm
        volumeGroup: system
        logicalVolume: docker
        mount: /var/lib/docker
        format: true
        fstype: ext4
        owner:
          name: docker
      - name: log
        type: lvm
        volumeGroup: system
        logicalVolume: log
        mount: /var/log
        format: true
        fstype: ext4
        owner:
          name: rsyslog
      - name: audit
        type: lvm
        volumeGroup: system
        logicalVolume: audit
        mount: /var/log/audit
        format: true
        fstype: ext4
        owner:
          name: audit
      - name: vtmp
        type: lvm
        volumeGroup: system
        logicalVolume: vtmp
        mount: /var/tmp
        mountOptions: "noexec,nosuid,nodev"
        format: true
        fstype: ext4
        owner:
          name: vtmp
      - name: crash
        type: lvm
        volumeGroup: system
        logicalVolume: crash
        mount: /var/crash
        format: true
        fstype: ext4
        owner:
          name: crash
      - name: nova
        type: lvm
        volumeGroup: system
        logicalVolume: nova
        mount: /var/lib/nova
        format: true
        fstype: ext4
        owner:
          name: compute
  # - name: lcm_disks
  #   drives:
  #     - name: disk1
  #       type: virtual
  #       diskBackend:
  #         type: image
  #         imagetype: raw
  #         path: /var/lib/nova/images
  #         preallocate: falloc
  #         size: 60GiB
  #       id: /dev/vda
  #       labelType: gpt
  #       bootable: true
  #       partitions:
  #         - name: btrfs
  #           size: 20GiB
  #         - name: lvm_pv_1
  #           size: max
  #     - name: disk2
  #       type: virtual
  #       diskBackend:
  #         type: blockdev
  #         path: '/dev/gluster/gluster'
  #       id: /dev/vdb
  #       bootable: false
  #   volumeGroups:
  #     - name: system
  #       physicalVolumes:
  #         - type: partition
  #           partname: lvm_pv_1
  #       logicalVolumes:
  #         - name: log
  #           size: 10GiB
  #         - name: crash
  #           size: 10GiB
  #         - name: docker
  #           size: 10GiB
  #         - name: mysql
  #           size: 100%FREE
  #   volumes:
  #     - name: root
  #       type: btrfs
  #       mount: /
  #       format: true
  #       fstype: btrfs
  #       owner:
  #         name: os
  #       devices:
  #         - type: partition
  #           partname: btrfs
  #       subvolumes:
  #         - name: /tmp
  #           cow: false
  #         - name: /home
  #           cow: false
  #         - name: /opt
  #           cow: false
  #         - name: /srv
  #           cow: false
  #         - name: /var
  #           cow: false
  #     - name: log
  #       type: lvm
  #       volumeGroup: system
  #       logicalVolume: log
  #       mount: /var/log
  #       format: true
  #       fstype: ext4
  #       owner:
  #         name: rsyslog
  #     - name: crash
  #       type: lvm
  #       volumeGroup: system
  #       logicalVolume: crash
  #       mount: /var/crash
  #       format: true
  #       fstype: ext4
  #       owner:
  #         name: crash
  #     - name: mysql
  #       type: lvm
  #       volumeGroup: system
  #       logicalVolume: mysql
  #       mount: /var/lib/mysql
  #       format: true
  #       fstype: ext4
  #       owner:
  #         name: mariadb
  #     - name: docker
  #       type: lvm
  #       volumeGroup: system
  #       logicalVolume: docker
  #       mount: /var/lib/docker
  #       format: true
  #       fstype: ext4
  #       owner:
  #         name: docker
  #     - name: gluster_brick1
  #       type: plain
  #       disk: /dev/vdb
  #       mount: /data/glusterfs/bricks
  #       format: true
  #       fstype: xfs
  #       owner:
  #         name: glusterfs
  #         attributes:
  #           glusterVolumes:
  #             - name: infra
  #             - name: cee_main
  #             - name: cee_templates
  #             - name: lcm_jobs
  #               quota: 15GiB
  #             - name: backups
  #               quota: 10GiB
  #             - name: lcm_collections
  #               quota: 5GiB
  #             - name: lcm_reports
  #           glusterVolumeType: replica
  #           glusterVolumeOptions:
  #             - performance.cache-size: 32MB
  #     - name: gluster_infra
  #       type: glusterfs
  #       mount: /srv/www/
  #       mountOptions: -o log-level=loglevel
  #       glusterOptions:
  #         volumeName: infra
  #         glusterHost: localhost
  #     - name: gluster_cee_main
  #       type: glusterfs
  #       mount: /var/lib/cee/main
  #       mountOptions: -o log-level=loglevel
  #       glusterOptions:
  #         volumeName: cee_main
  #         glusterHost: localhost
  #     - name: gluster_cee_templates
  #       type: glusterfs
  #       mount: /opt/cee/templates
  #       mountOptions: -o log-level=loglevel
  #       glusterOptions:
  #         volumeName: cee_templates
  #         glusterHost: localhost
  #     - name: gluster_lcm_jobs
  #       type: glusterfs
  #       mount: /var/lib/cee/jobs
  #       mountOptions: -o log-level=loglevel
  #       glusterOptions:
  #         volumeName: lcm_jobs
  #         glusterHost: localhost
  #     - name: gluster_backups
  #       type: glusterfs
  #       mount: /var/lib/cee/backups
  #       mountOptions: -o log-level=loglevel
  #       glusterOptions:
  #         volumeName: backups
  #         glusterHost: localhost
  #     - name: gluster_lcm_collections
  #       type: glusterfs
  #       mount: /var/lib/cee/collections
  #       owner:
  #         name: lcm_collections
  #       glusterOptions:
  #         volumeName: lcm_collections
  #         glusterHost: localhost
  #     - name: gluster_lcm_reports
  #       type: glusterfs
  #       mount: /var/lib/cee/reports
  #       owner:
  #         name: lcm_reports
  #       glusterOptions:
  #         volumeName: lcm_reports
  #         glusterHost: localhost
  - name: infra_disks
    drives:
      - name: disk1
        type: virtual
        diskBackend:
          type: image
          imagetype: raw
          path: /var/lib/infra/images
          preallocate: falloc
          size: 520GiB   # changed from 830 to 800
        id: /dev/vda
        labelType: gpt
        bootable: true
        partitions:
          - name: btrfs
            size: 40GiB
          - name: lvm_pv_1
            size: max
      - name: disk2
        type: virtual
        diskBackend:
          type: blockdev
          path: '/dev/gluster/gluster'
        id: /dev/vdb
        bootable: false
    volumeGroups:
      - name: system
        physicalVolumes:
          - type: partition
            partname: lvm_pv_1
        logicalVolumes:
          - name: log
            size: 20GiB
          - name: audit
            size: 500MiB
          - name: vtmp
            size: 500MiB
          - name: crash
            size: 30GiB
          - name: docker
            size: 35GiB
          - name: rabbitmq
            size: 10GiB
          - name: events
            size: 10GiB
          - name: pmreporter
            size: 20GiB
          - name: monitoring
            size: 200GiB
          - name: backups
            size: 25GiB
          - name: mysql
            size: 100%FREE
    volumes:
      - name: root
        type: btrfs
        mount: /
        format: true
        fstype: btrfs
        owner:
          name: os
        devices:
          - type: partition
            partname: btrfs
        subvolumes:
          - name: /tmp
            cow: false
          - name: /home
            cow: false
          - name: /opt
            cow: false
          - name: /srv
            cow: false
          - name: /var
            cow: false
      - name: log
        type: lvm
        volumeGroup: system
        logicalVolume: log
        mount: /var/log
        format: true
        fstype: ext4
        owner:
          name: rsyslog
      - name: audit
        type: lvm
        volumeGroup: system
        logicalVolume: audit
        mount: /var/log/audit
        format: true
        fstype: ext4
        owner:
          name: audit
      - name: vtmp
        type: lvm
        volumeGroup: system
        logicalVolume: vtmp
        mount: /var/tmp
        mountOptions: "noexec,nosuid,nodev"
        format: true
        fstype: ext4
        owner:
          name: vtmp
      - name: backups
        volumeGroup: system
        type: lvm
        logicalVolume: backups
        mount: /var/backups
        format: true
        fstype: ext4
        owner:
          name: backups
      - name: crash
        type: lvm
        volumeGroup: system
        logicalVolume: crash
        mount: /var/crash
        format: true
        fstype: ext4
        owner:
          name: crash
      - name: rabbitmq
        type: lvm
        volumeGroup: system
        logicalVolume: rabbitmq
        mount: /var/lib/rabbitmq
        format: true
        fstype: ext4
        owner:
          name: rabbitmq
      - name: events
        type: lvm
        volumeGroup: system
        logicalVolume: events
        mount: /var/lib/events
        format: true
        fstype: ext4
        owner:
          name: kafka
      - name: monitoring
        type: lvm
        volumeGroup: system
        logicalVolume: monitoring
        mount: /var/lib/monitoring
        format: true
        fstype: ext4
        owner:
          name: vmetrics
      - name: mysql
        type: lvm
        volumeGroup: system
        logicalVolume: mysql
        mount: /var/lib/mysql
        format: true
        fstype: ext4
        owner:
          name: mariadb
      - name: pmreporter
        type: lvm
        volumeGroup: system
        logicalVolume: pmreporter
        mount: /var/pmreporter
        format: true
        fstype: ext4
        owner:
          name: pm_reporter
      - name: docker
        type: lvm
        volumeGroup: system
        logicalVolume: docker
        mount: /var/lib/docker
        format: true
        fstype: ext4
        owner:
          name: docker
      - name: gluster_brick1
        type: plain
        disk: /dev/vdb
        mount: /data/glusterfs/bricks
        format: true
        fstype: xfs
        owner:
          name: glusterfs
          attributes:
            glusterVolumes:
              - name: infra
              - name: cee_main
                options:
                  performance.readdir-ahead: "on"
                  performance.parallel-readdir: "on"
                  cluster.readdir-optimize: "on"
              - name: cee_templates
              - name: lcm_jobs
                quota: 15GiB
              - name: backups
                quota: 10GiB
              - name: lcm_collections
                quota: 5GiB
              - name: lcm_reports
            glusterVolumeType: replica
#            glusterVolumeOptions:
#              - performance.cache-size: 32MB
#              - performance.readdir-ahead: "on"
#              - performance.parallel-readdir: "on"
#              - cluster.readdir-optimize: "on"
      - name: gluster_infra
        type: glusterfs
        mount: /srv/www/
        mountOptions: -o log-level=loglevel
        glusterOptions:
          volumeName: infra
          glusterHost: localhost
      - name: gluster_cee_main
        type: glusterfs
        mount: /var/lib/cee/main
        mountOptions: -o log-level=loglevel
        glusterOptions:
          volumeName: cee_main
          glusterHost: localhost
      - name: gluster_cee_templates
        type: glusterfs
        mount: /opt/cee/templates
        mountOptions: -o log-level=loglevel
        glusterOptions:
          volumeName: cee_templates
          glusterHost: localhost
      - name: gluster_lcm_jobs
        type: glusterfs
        mount: /var/lib/cee/jobs
        mountOptions: -o log-level=loglevel
        glusterOptions:
          volumeName: lcm_jobs
          glusterHost: localhost
      - name: gluster_backups
        type: glusterfs
        mount: /var/lib/cee/backups
        mountOptions: -o log-level=loglevel
        glusterOptions:
          volumeName: backups
          glusterHost: localhost
      - name: gluster_lcm_collections
        type: glusterfs
        mount: /var/lib/cee/collections
        owner:
          name: lcm_collections
        glusterOptions:
          volumeName: lcm_collections
          glusterHost: localhost
      - name: gluster_lcm_reports
        type: glusterfs
        mount: /var/lib/cee/reports
        owner:
          name: lcm_reports
        glusterOptions:
          volumeName: lcm_reports
          glusterHost: localhost
...

